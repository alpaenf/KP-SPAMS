import{m as p,p as oe,q as se,c as le,w as ae,a as e,b as ne,h as a,o as l,F as j,r as C,n as M,i,t as n,f as $,g as m,v as f,e as D,j as ie,k as b}from"./app-ByIYZat8.js";import{_ as re}from"./AppLayout-DR690tEX.js";import{_ as ue}from"./InstallPWAButton-6Yo_5c5_.js";/* empty css            */const de={class:"min-h-screen bg-gray-50"},pe={class:"bg-gradient-to-r from-blue-700 to-blue-800 shadow-lg"},ce={class:"max-w-7xl mx-auto px-4 py-8"},be={class:"flex items-center justify-between gap-3 mb-2"},ge={class:"bg-white border-b border-gray-200 sticky top-0 z-30 shadow-sm"},ve={class:"max-w-7xl mx-auto px-4"},me={class:"flex overflow-x-auto"},he=["onClick"],xe={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},fe={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ye={key:2,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ke={key:3,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},we={key:4,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_e={key:5,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},je={class:"max-w-7xl mx-auto px-4 py-8"},Ce={key:0,class:"bg-white rounded-lg shadow p-6"},Me={class:"space-y-3"},Se=["onUpdate:modelValue","placeholder"],Be=["onClick"],Ve={key:1,class:"space-y-6"},Le={class:"flex justify-between items-center"},$e={key:0,class:"bg-white rounded-lg shadow p-6"},De={class:"text-xl font-bold mb-4"},Fe={key:0,class:"ml-3 text-sm text-gray-600"},Te={type:"submit",class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},He={class:"grid gap-4"},Ue={class:"flex-1"},Pe={class:"font-bold text-gray-900"},ze={class:"text-gray-600 text-sm"},Ke={class:"flex gap-2"},Ee=["onClick"],Ge=["onClick"],qe={key:2,class:"space-y-6"},Ae={class:"flex justify-between items-center"},Ne={key:0,class:"bg-white rounded-lg shadow p-6"},Re={class:"text-xl font-bold mb-4"},Ie={key:0,class:"ml-3 text-sm text-gray-600"},Ye={class:"flex items-center gap-2"},Je={type:"submit",class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},Oe={class:"grid gap-4"},Qe={class:"flex-1"},We={class:"font-bold text-gray-900"},Xe={class:"text-gray-600 text-sm"},Ze={class:"text-xs text-gray-500 mt-2"},et={key:0,class:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded"},tt={class:"flex gap-2"},ot=["onClick"],st=["onClick"],lt={key:3,class:"space-y-6"},at={class:"flex justify-between items-center"},nt={key:0,class:"bg-white rounded-lg shadow p-6"},it={key:0,class:"ml-3 text-sm text-gray-600"},rt={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},ut={class:"aspect-square bg-gray-200 overflow-hidden relative"},dt=["src","alt"],pt={class:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-end"},ct=["onClick"],bt={class:"p-2"},gt={class:"text-xs font-medium text-gray-700 truncate"},vt={class:"text-xs text-gray-500"},mt={key:4,class:"bg-white rounded-lg shadow p-4 sm:p-6"},ht={class:"mb-4 sm:mb-6 flex gap-2 sm:gap-4 overflow-x-auto pb-2"},xt={class:"space-y-4"},ft={class:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3"},yt={class:"flex-1"},kt={class:"flex items-center gap-2 sm:gap-3 mb-2 flex-wrap"},wt={class:"font-bold text-gray-900 text-sm sm:text-base"},_t={key:0,class:"text-xs sm:text-sm text-gray-600 mb-2"},jt={class:"flex items-center gap-1 mb-2"},Ct={class:"text-sm sm:text-base text-gray-700"},Mt={class:"text-xs text-gray-500 mt-2"},St={class:"flex gap-2 sm:ml-4"},Bt=["onClick"],Vt=["onClick"],Lt=["onClick"],$t={key:0,class:"text-center py-12 text-gray-500"},Dt={class:"text-lg"},Ft={key:5,class:"bg-white rounded-lg shadow p-6"},Tt={key:0,class:"ml-3 text-sm text-gray-600"},Ht={key:1,class:"mt-4"},Ut=["src","alt"],qt={__name:"Dashboard",setup(Pt){const y=p("visi-misi"),q=[{id:"visi-misi",label:"Visi & Misi",icon:"document-text"},{id:"layanan",label:"Layanan",icon:"cog"},{id:"berita",label:"Berita",icon:"newspaper"},{id:"galeri",label:"Galeri",icon:"photograph"},{id:"sejarah",label:"Sejarah",icon:"book-open"},{id:"testimoni",label:"Testimoni",icon:"chat-alt-2"}],h=p({visi:"",misi:[""]}),w=p(!1),S=p(null),z=p([]),c=p({judul:"",deskripsi:"",icon:"",foto:null}),_=p(!1),B=p(null),K=p([]),u=p({judul:"",kategori:"",konten:"",thumbnail:null,is_published:!0}),L=p(!1),E=p([]),g=p({foto:null,caption:"",kategori:""}),F=p(null),k=p({konten:"",foto:null}),V=p([]),d=p("all"),U=oe(()=>d.value==="all"?V.value:V.value.filter(s=>s.status===d.value));se(()=>{x()});const x=async()=>{try{const s=Date.now(),[t,o,r,H,P]=await Promise.all([fetch(`/api/visi-misi?t=${s}`).then(v=>v.json()),fetch(`/api/layanan?t=${s}`).then(v=>v.json()),fetch(`/api/berita?t=${s}`).then(v=>v.json()),fetch(`/api/galeri?t=${s}`).then(v=>v.json()),fetch(`/api/sejarah?t=${s}`).then(v=>v.json())]);if(t){const v=t.misi?t.misi.filter(G=>G&&G.trim()!==""):[""];h.value={visi:t.visi||"",misi:v.length>0?v:[""]}}z.value=o||[],K.value=r||[],E.value=H||[],await T(),F.value=P,P&&(k.value={konten:P.konten,foto:null})}catch(s){console.error("Error loading data:",s)}},A=()=>{const s=h.value.misi.filter(t=>t.trim()!=="");b.put(route("visi-misi.update"),{visi:h.value.visi,misi:s},{onSuccess:()=>{alert("Visi & Misi berhasil disimpan!"),x()}})},N=()=>{const s=new FormData;s.append("judul",c.value.judul),s.append("deskripsi",c.value.deskripsi),s.append("icon",c.value.icon),c.value.foto&&s.append("foto",c.value.foto),S.value?b.post(route("layanan.update",S.value.id),s,{onSuccess:()=>{alert("Layanan berhasil diupdate!"),w.value=!1,S.value=null,x()}}):b.post(route("layanan.store"),s,{onSuccess:()=>{alert("Layanan berhasil ditambahkan!"),w.value=!1,c.value={judul:"",deskripsi:"",icon:"",foto:null},x()}})},R=s=>{S.value=s,c.value={...s,foto:null},w.value=!0},I=s=>{confirm("Yakin menghapus layanan ini?")&&b.delete(route("layanan.destroy",s),{onSuccess:()=>{alert("Layanan berhasil dihapus!"),x()}})},Y=()=>{const s=new FormData;s.append("judul",u.value.judul),s.append("kategori",u.value.kategori),s.append("konten",u.value.konten),s.append("is_published",u.value.is_published?1:0),u.value.thumbnail&&s.append("thumbnail",u.value.thumbnail),B.value?b.post(route("berita.update",B.value.id),s,{onSuccess:()=>{alert("Berita berhasil diupdate!"),_.value=!1,B.value=null,x()}}):b.post(route("berita.store"),s,{onSuccess:()=>{alert("Berita berhasil ditambahkan!"),_.value=!1,u.value={judul:"",kategori:"",konten:"",thumbnail:null,is_published:!0},x()}})},J=s=>{B.value=s,u.value={...s,thumbnail:null},_.value=!0},O=s=>{confirm("Yakin menghapus berita ini?")&&b.delete(route("berita.destroy",s),{onSuccess:()=>{alert("Berita berhasil dihapus!"),x()}})},Q=()=>{if(!g.value.foto){alert("Pilih foto terlebih dahulu!");return}const s=new FormData;s.append("foto",g.value.foto),s.append("caption",g.value.caption),s.append("kategori",g.value.kategori),b.post(route("galeri.store"),s,{onSuccess:()=>{alert("Foto berhasil diupload!"),L.value=!1,g.value={foto:null,caption:"",kategori:""},x()},onError:t=>{alert("Gagal upload foto: "+Object.values(t).join(", "))}})},W=s=>{confirm("Yakin menghapus foto ini?")&&b.delete(route("galeri.destroy",s),{onSuccess:()=>{alert("Foto berhasil dihapus!"),x()}})},X=()=>{const s=new FormData;s.append("konten",k.value.konten),k.value.foto&&s.append("foto",k.value.foto),b.post(route("sejarah.update"),s,{onSuccess:()=>{x(),alert("Sejarah berhasil disimpan!")}})},T=async()=>{try{const s=await fetch(route("testimoni.all"));V.value=await s.json()}catch(s){console.error("Error loading testimoni:",s)}},Z=async s=>{if(confirm("Setujui testimoni ini?"))try{await b.post(route("testimoni.approve",s),{},{onSuccess:()=>{T(),alert("Testimoni berhasil disetujui!")}})}catch(t){console.error("Error approving testimoni:",t)}},ee=async s=>{if(confirm("Tolak testimoni ini?"))try{await b.post(route("testimoni.reject",s),{},{onSuccess:()=>{T(),alert("Testimoni ditolak.")}})}catch(t){console.error("Error rejecting testimoni:",t)}},te=async s=>{if(confirm("Hapus testimoni ini? Tindakan ini tidak dapat dibatalkan."))try{await b.delete(route("testimoni.destroy",s),{onSuccess:()=>{T(),alert("Testimoni berhasil dihapus!")}})}catch(t){console.error("Error deleting testimoni:",t)}};return(s,t)=>(l(),le(re,null,{default:ae(()=>[e("div",de,[e("div",pe,[e("div",ce,[e("div",be,[t[23]||(t[23]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"bg-white/20 p-2 rounded-lg"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])]),e("div",null,[e("h1",{class:"text-3xl font-bold text-white"},"Kelola Landing Page"),e("p",{class:"text-blue-100 mt-1"},"Manage semua konten landing page dari satu dashboard terpadu")])],-1)),ne(ue)])])]),e("div",ge,[e("div",ve,[e("div",me,[(l(),a(j,null,C(q,o=>e("button",{key:o.id,onClick:r=>y.value=o.id,class:M({"flex items-center gap-2 py-4 px-6 border-b-2 font-medium text-sm transition-all whitespace-nowrap":!0,"border-blue-600 text-blue-700 bg-blue-50":y.value===o.id,"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50":y.value!==o.id})},[o.icon==="document-text"?(l(),a("svg",xe,[...t[24]||(t[24]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])])):o.icon==="cog"?(l(),a("svg",fe,[...t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1)])])):o.icon==="newspaper"?(l(),a("svg",ye,[...t[26]||(t[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"},null,-1)])])):o.icon==="photograph"?(l(),a("svg",ke,[...t[27]||(t[27]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])])):o.icon==="book-open"?(l(),a("svg",we,[...t[28]||(t[28]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},null,-1)])])):o.icon==="chat-alt-2"?(l(),a("svg",_e,[...t[29]||(t[29]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"},null,-1)])])):i("",!0),e("span",null,n(o.label),1)],10,he)),64))])])]),e("div",je,[y.value==="visi-misi"?(l(),a("div",Ce,[t[33]||(t[33]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Visi & Misi KP-SPAMS",-1)),e("form",{onSubmit:$(A,["prevent"]),class:"space-y-6"},[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Visi",-1)),m(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=o=>h.value.visi=o),rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan visi KP-SPAMS..."},null,512),[[f,h.value.visi]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Misi",-1)),e("div",Me,[(l(!0),a(j,null,C(h.value.misi,(o,r)=>(l(),a("div",{key:r,class:"flex gap-2"},[m(e("input",{type:"text","onUpdate:modelValue":H=>h.value.misi[r]=H,class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Misi ${r+1}...`},null,8,Se),[[f,h.value.misi[r]]]),h.value.misi.length>1?(l(),a("button",{key:0,type:"button",onClick:H=>h.value.misi.splice(r,1),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600"}," Hapus ",8,Be)):i("",!0)]))),128))]),e("button",{type:"button",onClick:t[1]||(t[1]=o=>h.value.misi.push("")),class:"mt-3 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"}," + Tambah Misi ")]),t[32]||(t[32]=e("button",{type:"submit",class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition"}," Simpan Visi & Misi ",-1))],32)])):i("",!0),y.value==="layanan"?(l(),a("div",Ve,[e("div",Le,[t[34]||(t[34]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Kelola Layanan",-1)),e("button",{onClick:t[2]||(t[2]=o=>w.value=!w.value),class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},n(w.value?"Batal":"+ Tambah Layanan"),1)]),w.value?(l(),a("div",$e,[e("h3",De,n(S.value?"Edit":"Tambah")+" Layanan",1),e("form",{onSubmit:$(N,["prevent"]),class:"space-y-4"},[m(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>c.value.judul=o),placeholder:"Nama Layanan",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[f,c.value.judul]]),m(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>c.value.deskripsi=o),rows:"3",placeholder:"Deskripsi Layanan",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[f,c.value.deskripsi]]),m(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>c.value.icon=o),placeholder:"Icon (optional)",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[f,c.value.icon]]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Foto Layanan",-1)),e("input",{type:"file",onChange:t[6]||(t[6]=o=>c.value.foto=o.target.files[0]),accept:"image/*",id:"layanan-foto",class:"hidden"},null,32),t[36]||(t[36]=e("label",{for:"layanan-foto",class:"inline-flex items-center px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 cursor-pointer"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),D(" Pilih Foto ")],-1)),c.value.foto?(l(),a("span",Fe,n(c.value.foto.name),1)):i("",!0)]),e("button",Te,n(S.value?"Update":"Simpan")+" Layanan ",1)],32)])):i("",!0),e("div",He,[(l(!0),a(j,null,C(z.value,o=>(l(),a("div",{key:o.id,class:"bg-white rounded-lg shadow p-4 flex justify-between items-start"},[e("div",Ue,[e("h3",Pe,n(o.judul),1),e("p",ze,n(o.deskripsi),1)]),e("div",Ke,[e("button",{onClick:r=>R(o),class:"px-4 py-2 bg-blue-500 text-white rounded text-sm hover:bg-blue-600"}," Edit ",8,Ee),e("button",{onClick:r=>I(o.id),class:"px-4 py-2 bg-red-500 text-white rounded text-sm hover:bg-red-600"}," Hapus ",8,Ge)])]))),128))])])):i("",!0),y.value==="berita"?(l(),a("div",qe,[e("div",Ae,[t[37]||(t[37]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Kelola Berita",-1)),e("button",{onClick:t[7]||(t[7]=o=>_.value=!_.value),class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},n(_.value?"Batal":"+ Tambah Berita"),1)]),_.value?(l(),a("div",Ne,[e("h3",Re,n(B.value?"Edit":"Tambah")+" Berita",1),e("form",{onSubmit:$(Y,["prevent"]),class:"space-y-4"},[m(e("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=o=>u.value.judul=o),placeholder:"Judul Berita",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[f,u.value.judul]]),m(e("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=o=>u.value.kategori=o),placeholder:"Kategori (optional)",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[f,u.value.kategori]]),m(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=o=>u.value.konten=o),rows:"5",placeholder:"Konten Berita",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},null,512),[[f,u.value.konten]]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Thumbnail Berita",-1)),e("input",{type:"file",onChange:t[11]||(t[11]=o=>u.value.thumbnail=o.target.files[0]),accept:"image/*",id:"berita-thumbnail",class:"hidden"},null,32),t[39]||(t[39]=e("label",{for:"berita-thumbnail",class:"inline-flex items-center px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 cursor-pointer"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),D(" Pilih Gambar ")],-1)),u.value.thumbnail?(l(),a("span",Ie,n(u.value.thumbnail.name),1)):i("",!0)]),e("label",Ye,[m(e("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=o=>u.value.is_published=o),class:"w-4 h-4"},null,512),[[ie,u.value.is_published]]),t[40]||(t[40]=e("span",{class:"text-sm font-medium text-gray-700"},"Publikasikan Berita",-1))]),e("button",Je,n(B.value?"Update":"Simpan")+" Berita ",1)],32)])):i("",!0),e("div",Oe,[(l(!0),a(j,null,C(K.value,o=>(l(),a("div",{key:o.id,class:"bg-white rounded-lg shadow p-4 flex justify-between items-start"},[e("div",Qe,[e("h3",We,n(o.judul),1),e("p",Xe,n(o.konten.substring(0,100))+"...",1),e("p",Ze,[D(n(new Date(o.tanggal_posting).toLocaleDateString("id-ID"))+" ",1),o.is_published?i("",!0):(l(),a("span",et," Draft "))])]),e("div",tt,[e("button",{onClick:r=>J(o),class:"px-4 py-2 bg-blue-500 text-white rounded text-sm hover:bg-blue-600"}," Edit ",8,ot),e("button",{onClick:r=>O(o.id),class:"px-4 py-2 bg-red-500 text-white rounded text-sm hover:bg-red-600"}," Hapus ",8,st)])]))),128))])])):i("",!0),y.value==="galeri"?(l(),a("div",lt,[e("div",at,[t[41]||(t[41]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Kelola Galeri",-1)),e("button",{onClick:t[13]||(t[13]=o=>L.value=!L.value),class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},n(L.value?"Batal":"+ Upload Foto"),1)]),L.value?(l(),a("div",nt,[t[45]||(t[45]=e("h3",{class:"text-xl font-bold mb-4"},"Upload Foto Galeri",-1)),e("form",{onSubmit:$(Q,["prevent"]),class:"space-y-4"},[e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Foto Galeri",-1)),e("input",{type:"file",onChange:t[14]||(t[14]=o=>g.value.foto=o.target.files[0]),accept:"image/*",id:"galeri-foto",class:"hidden",required:""},null,32),t[43]||(t[43]=e("label",{for:"galeri-foto",class:"inline-flex items-center px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 cursor-pointer"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),D(" Pilih Foto ")],-1)),g.value.foto?(l(),a("span",it,n(g.value.foto.name),1)):i("",!0)]),m(e("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>g.value.caption=o),placeholder:"Caption (optional)",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[f,g.value.caption]]),m(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=o=>g.value.kategori=o),placeholder:"Kategori (optional)",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[f,g.value.kategori]]),t[44]||(t[44]=e("button",{type:"submit",class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"}," Upload Foto ",-1))],32)])):i("",!0),e("div",rt,[(l(!0),a(j,null,C(E.value,o=>(l(),a("div",{key:o.id,class:"bg-white rounded-lg shadow overflow-hidden group hover:shadow-lg transition"},[e("div",ut,[e("img",{src:`/storage/${o.foto}`,alt:o.caption,class:"w-full h-full object-cover group-hover:scale-110 transition"},null,8,dt),e("div",pt,[e("button",{onClick:r=>W(o.id),class:"w-full px-2 py-2 bg-red-500 text-white text-sm hover:bg-red-600"}," Hapus ",8,ct)])]),e("div",bt,[e("p",gt,n(o.caption),1),e("p",vt,n(o.kategori),1)])]))),128))])])):i("",!0),y.value==="testimoni"?(l(),a("div",mt,[t[47]||(t[47]=e("h2",{class:"text-xl sm:text-2xl font-bold text-gray-900 mb-4 sm:mb-6"},"Kelola Testimoni",-1)),e("div",ht,[e("button",{onClick:t[17]||(t[17]=o=>d.value="all"),class:M({"px-3 sm:px-4 py-2 rounded-lg font-medium transition whitespace-nowrap text-sm sm:text-base":!0,"bg-blue-500 text-white":d.value==="all","bg-gray-200 text-gray-700 hover:bg-gray-300":d.value!=="all"})}," Semua ("+n(U.value.length)+") ",3),e("button",{onClick:t[18]||(t[18]=o=>d.value="pending"),class:M({"px-3 sm:px-4 py-2 rounded-lg font-medium transition whitespace-nowrap text-sm sm:text-base":!0,"bg-yellow-500 text-white":d.value==="pending","bg-gray-200 text-gray-700 hover:bg-gray-300":d.value!=="pending"})}," Menunggu ("+n(V.value.filter(o=>o.status==="pending").length)+") ",3),e("button",{onClick:t[19]||(t[19]=o=>d.value="approved"),class:M({"px-3 sm:px-4 py-2 rounded-lg font-medium transition whitespace-nowrap text-sm sm:text-base":!0,"bg-blue-500 text-white":d.value==="approved","bg-gray-200 text-gray-700 hover:bg-gray-300":d.value!=="approved"})}," Disetujui ("+n(V.value.filter(o=>o.status==="approved").length)+") ",3),e("button",{onClick:t[20]||(t[20]=o=>d.value="rejected"),class:M({"px-3 sm:px-4 py-2 rounded-lg font-medium transition whitespace-nowrap text-sm sm:text-base":!0,"bg-red-500 text-white":d.value==="rejected","bg-gray-200 text-gray-700 hover:bg-gray-300":d.value!=="rejected"})}," Ditolak ("+n(V.value.filter(o=>o.status==="rejected").length)+") ",3)]),e("div",xt,[(l(!0),a(j,null,C(U.value,o=>(l(),a("div",{key:o.id,class:"border border-gray-200 rounded-lg p-3 sm:p-4 hover:shadow-md transition"},[e("div",ft,[e("div",yt,[e("div",kt,[e("h3",wt,n(o.nama),1),e("span",{class:M({"px-2 sm:px-3 py-1 rounded-full text-xs font-semibold":!0,"bg-yellow-100 text-yellow-800":o.status==="pending","bg-blue-100 text-blue-800":o.status==="approved","bg-red-100 text-red-800":o.status==="rejected"})},n(o.status==="pending"?"Menunggu":o.status==="approved"?"Disetujui":"Ditolak"),3)]),o.pekerjaan?(l(),a("p",_t,n(o.pekerjaan),1)):i("",!0),e("div",jt,[(l(),a(j,null,C(5,r=>e("svg",{key:r,class:M({"w-4 h-4":!0,"text-yellow-400":r<=o.rating,"text-gray-300":r>o.rating}),fill:"currentColor",viewBox:"0 0 20 20"},[...t[46]||(t[46]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))]),e("p",Ct,n(o.isi_testimoni),1),e("p",Mt,n(new Date(o.created_at).toLocaleDateString("id-ID")),1)]),e("div",St,[o.status!=="approved"?(l(),a("button",{key:0,onClick:r=>Z(o.id),class:"flex-1 sm:flex-none px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 active:bg-blue-700 transition touch-manipulation",title:"Setujui"}," âœ“ ",8,Bt)):i("",!0),o.status!=="rejected"?(l(),a("button",{key:1,onClick:r=>ee(o.id),class:"flex-1 sm:flex-none px-3 py-2 bg-yellow-500 text-white text-sm rounded hover:bg-yellow-600 active:bg-yellow-700 transition touch-manipulation",title:"Tolak"}," âœ— ",8,Vt)):i("",!0),e("button",{onClick:r=>te(o.id),class:"flex-1 sm:flex-none px-3 py-2 bg-red-500 text-white text-sm rounded hover:bg-red-600 active:bg-red-700 transition touch-manipulation",title:"Hapus"}," ðŸ—‘ ",8,Lt)])])]))),128)),U.value.length===0?(l(),a("div",$t,[e("p",Dt,"Tidak ada testimoni "+n(d.value==="all"?"":d.value==="pending"?"yang menunggu":d.value==="approved"?"yang disetujui":"yang ditolak"),1)])):i("",!0)])])):i("",!0),y.value==="sejarah"?(l(),a("div",Ft,[t[52]||(t[52]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Sejarah KP-SPAMS",-1)),e("form",{onSubmit:$(X,["prevent"]),class:"space-y-6"},[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Konten Sejarah",-1)),m(e("textarea",{"onUpdate:modelValue":t[21]||(t[21]=o=>k.value.konten=o),rows:"8",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ceritakan sejarah KP-SPAMS..."},null,512),[[f,k.value.konten]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Foto Sejarah",-1)),e("input",{type:"file",onChange:t[22]||(t[22]=o=>k.value.foto=o.target.files[0]),accept:"image/*",id:"sejarah-foto",class:"hidden"},null,32),t[50]||(t[50]=e("label",{for:"sejarah-foto",class:"inline-flex items-center px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 cursor-pointer"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})]),D(" Pilih Foto ")],-1)),k.value.foto?(l(),a("span",Tt,n(k.value.foto.name),1)):i("",!0),F.value?.foto?(l(),a("div",Ht,[e("img",{src:`/storage/${F.value.foto}`,alt:F.value.konten,class:"max-w-xs rounded-lg"},null,8,Ut)])):i("",!0)]),t[51]||(t[51]=e("button",{type:"submit",class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition"}," Simpan Sejarah ",-1))],32)])):i("",!0)])])]),_:1}))}};export{qt as default};
