import{m as h,p as y,c as V,w as d,a as t,e as n,f as b,t as s,d as w,y as K,i as g,g as m,l as x,o,D as C,j as k,F as _,r as B,b as z,v as P,k as S}from"./app-dpV8CA44.js";import{_ as H}from"./AppLayout-m9m9Sleo.js";/* empty css            */const D={class:"py-6 sm:py-12"},O={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},$={class:"mb-6 sm:mb-8"},N={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4"},I={class:"text-sm sm:text-base text-gray-600 mt-1"},W={class:"w-full sm:w-auto"},F={class:"mb-6 sm:mb-8"},U={class:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4"},q={class:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8"},J={class:"bg-white rounded-lg shadow-md p-3 sm:p-6"},E={class:"flex items-center"},Q={class:"ml-2 sm:ml-4"},Z={class:"text-lg sm:text-2xl font-bold text-gray-900"},G={class:"bg-white rounded-lg shadow-md p-3 sm:p-6"},X={class:"flex items-center"},Y={class:"ml-2 sm:ml-4"},tt={class:"text-lg sm:text-2xl font-bold text-gray-900"},et={class:"bg-white rounded-lg shadow-md p-3 sm:p-6"},st={class:"flex items-center"},at={class:"ml-2 sm:ml-4"},lt={class:"text-lg sm:text-2xl font-bold text-gray-900"},ot={class:"bg-white rounded-lg shadow-md p-3 sm:p-6"},nt={class:"flex items-center"},rt={class:"ml-2 sm:ml-4"},it={class:"text-lg sm:text-2xl font-bold text-gray-900"},dt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},ut={class:"bg-white rounded-lg shadow-md p-6"},gt={class:"space-y-4"},mt={class:"flex justify-between items-center pb-3 border-b"},xt={class:"text-xl font-bold text-blue-600"},pt={key:0,class:"flex justify-between items-center pb-3 border-b"},bt={class:"text-xl font-bold text-blue-600"},ct={class:"flex justify-between items-center pb-3 border-b bg-blue-50 -mx-4 px-4 py-3 rounded-lg"},vt={class:"text-xl font-bold text-blue-700"},ft={class:"mt-6"},ht={class:"flex justify-between text-sm mb-2"},yt={class:"font-semibold text-gray-900"},wt={class:"bg-gray-200 rounded-full h-3"},kt={class:"text-xs text-gray-500 mt-2"},_t={class:"grid grid-cols-2 gap-4 mt-6"},Bt={class:"bg-blue-50 rounded-lg p-4"},Mt={class:"text-2xl font-bold text-blue-600"},jt={class:"bg-red-50 rounded-lg p-4"},Ct={class:"text-2xl font-bold text-red-600"},zt={class:"bg-white rounded-lg shadow-md p-6"},Pt={class:"flex items-center justify-center h-64"},St={class:"relative w-48 h-48"},Tt={class:"transform -rotate-90",viewBox:"0 0 100 100"},Rt=["stroke-dasharray"],Lt={class:"absolute inset-0 flex items-center justify-center"},At={class:"text-center"},Vt={class:"text-3xl font-bold text-gray-900"},Kt={class:"mt-4 flex justify-around"},Ht={class:"text-center"},Dt={class:"text-lg font-semibold text-gray-900 mt-1"},Ot={class:"text-center"},$t={class:"text-lg font-semibold text-gray-900 mt-1"},Nt={class:"bg-white rounded-lg shadow-md p-6 mb-8"},It={class:"flex justify-between items-center mb-4"},Wt={class:"overflow-x-auto"},Ft={class:"min-w-full divide-y divide-gray-200"},Ut={class:"bg-white divide-y divide-gray-200"},qt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Jt={class:"px-6 py-4"},Et={class:"text-sm font-medium text-gray-900"},Qt={class:"text-xs text-gray-500"},Zt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Gt={class:"px-6 py-4 whitespace-nowrap"},Xt={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"},Yt={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-bold"},ee={key:0},se={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},ae={class:"bg-white rounded-lg shadow-md p-6"},le={class:"flex justify-between items-center mb-4"},oe={class:"px-3 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},ne={class:"space-y-3 max-h-80 overflow-y-auto"},re={class:"flex-1"},ie={class:"font-semibold text-gray-900"},de={class:"text-sm text-gray-600"},ue={class:"flex gap-2"},ge=["href"],me={key:0,class:"text-center text-gray-500 py-8"},xe={key:1,class:"text-center pt-3 border-t"},pe={class:"bg-white rounded-lg shadow-md p-6"},be={class:"space-y-3 max-h-64 overflow-y-auto"},ce={class:"flex-shrink-0 w-20"},ve={class:"text-sm font-medium text-gray-700"},fe={class:"flex-1 mx-4"},he={class:"bg-gray-200 rounded-full h-4"},ye={class:"flex-shrink-0 w-16 text-right"},we={class:"text-sm font-semibold text-gray-900"},ke={key:0,class:"text-center text-gray-500 py-8"},_e={class:"bg-white rounded-lg shadow-md p-6 mb-8"},Be={class:"flex justify-between items-center mb-6"},Me={class:"text-sm text-gray-600 mt-1"},je={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Ce={class:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border border-blue-200"},ze={class:"text-2xl font-bold text-blue-900"},Pe={class:"text-xs text-blue-700 mt-1"},Se={class:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-5 border border-purple-200"},Te={class:"text-2xl font-bold text-purple-900"},Re={class:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-5 border border-orange-200"},Le={class:"text-2xl font-bold text-orange-900"},Ae={class:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg p-5 border border-indigo-200"},Ve={class:"text-2xl font-bold text-indigo-900"},Ke={class:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border-2 border-blue-300 md:col-span-2"},He={class:"text-3xl font-bold text-blue-900"},De={class:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-5 border border-gray-200 md:col-span-2"},Oe={class:"grid grid-cols-3 gap-4"},$e={class:"text-xl font-bold text-blue-700"},Ne={class:"text-xl font-bold text-red-700"},Ie={class:"text-xl font-bold text-gray-900"},We={class:"bg-white rounded-lg shadow-md p-6"},Fe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ue={class:"flex items-center justify-center min-h-screen px-4"},qe={class:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6"},Je={class:"flex justify-between items-center mb-4"},Ee={class:"mb-4"},Qe={class:"mb-4"},Ze={class:"flex gap-3"},Ge=["disabled"],Xe={key:0},Ye={key:1},ls={__name:"Dashboard",props:{stats:{type:Object,required:!0},pembayaran:{type:Object,required:!0},laporanKeuangan:{type:Object,required:!0},pelangganBelumBayar:{type:Array,default:()=>[]},distribusiRtRw:{type:Array,default:()=>[]},recentTransactions:{type:Array,default:()=>[]}},setup(a){const i=a,c=h(!1),f=h(!1),v=h(""),p=h({bulan:i.laporanKeuangan.bulan,biaya_operasional_penarik:i.laporanKeuangan.biayaOperasionalPenarik,wilayah:v.value||null}),T=()=>{const r=v.value?`/dashboard?wilayah=${encodeURIComponent(v.value)}`:"/dashboard";S.visit(r,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{p.value.wilayah=v.value||null,p.value.biaya_operasional_penarik=i.laporanKeuangan.biayaOperasionalPenarik}})},R=()=>{f.value=!0,S.post("/laporan/update-operasional",p.value,{onFinish:()=>{f.value=!1,c.value=!1}})},M=y(()=>i.stats.totalPelanggan===0?0:Math.round(i.stats.pelangganAktif/i.stats.totalPelanggan*100)),j=y(()=>i.stats.pelangganAktif===0?0:Math.round(i.pembayaran.sudahBayarCount/i.stats.pelangganAktif*100));y(()=>i.pembayaran.totalTagihan===0?0:Math.round(i.pembayaran.terbayar/i.pembayaran.totalTagihan*100));const u=r=>!r&&r!==0?"0":new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:0}).format(r),L=r=>r?`https://wa.me/${String(r).replace(/[^0-9]/g,"").replace(/^0/,"62")}`:"#",A=r=>{if(!r)return"";const[e,l]=r.split("-");return`${["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][parseInt(l)-1]} ${e}`};return(r,e)=>(o(),V(H,null,{default:d(()=>[t("div",D,[t("div",O,[t("div",$,[t("div",N,[t("div",null,[e[7]||(e[7]=t("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900"},"Dashboard Pengelola",-1)),t("p",I,"Selamat datang, "+s(r.$page.props.auth.user.name),1)]),t("div",W,[e[9]||(e[9]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"},"Filter Wilayah",-1)),w(t("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>v.value=l),onChange:T,class:"w-full sm:w-auto px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},[...e[8]||(e[8]=[t("option",{value:""},"Semua Wilayah",-1),t("option",{value:"Dawuhan"},"Dawuhan",-1),t("option",{value:"Kubangsari Kulon"},"Kubangsari Kulon",-1),t("option",{value:"Kubangsari Wetan"},"Kubangsari Wetan",-1),t("option",{value:"Sokarame"},"Sokarame",-1),t("option",{value:"Tiparjaya"},"Tiparjaya",-1)])],544),[[K,v.value]])])])]),t("div",F,[t("div",U,[g(m(x),{href:"/qr-scanner",class:"group bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 p-4 sm:p-6 touch-manipulation"},{default:d(()=>[...e[10]||(e[10]=[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h3",{class:"text-base sm:text-lg font-bold mb-1"},"Pindai QR Code"),t("p",{class:"text-green-100 text-xs sm:text-sm"},"Scan QR untuk input meteran")]),t("div",{class:"bg-white/20 rounded-lg p-2 sm:p-3 group-hover:bg-white/30 transition-colors"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})])])],-1)])]),_:1}),g(m(x),{href:"/cek-pelanggan",class:"group bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 p-4 sm:p-6 touch-manipulation"},{default:d(()=>[...e[11]||(e[11]=[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h3",{class:"text-base sm:text-lg font-bold mb-1"},"Data Pelanggan"),t("p",{class:"text-blue-100 text-xs sm:text-sm"},"Kelola data pelanggan")]),t("div",{class:"bg-white/20 rounded-lg p-2 sm:p-3 group-hover:bg-white/30 transition-colors"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)])]),_:1}),g(m(x),{href:"/laporan",class:"group bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 p-4 sm:p-6 touch-manipulation"},{default:d(()=>[...e[12]||(e[12]=[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h3",{class:"text-base sm:text-lg font-bold mb-1"},"Laporan Keuangan"),t("p",{class:"text-purple-100 text-xs sm:text-sm"},"Lihat laporan keuangan")]),t("div",{class:"bg-white/20 rounded-lg p-2 sm:p-3 group-hover:bg-white/30 transition-colors"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)])]),_:1})])]),t("div",q,[t("div",J,[t("div",E,[e[14]||(e[14]=t("div",{class:"p-2 sm:p-3 rounded-full bg-blue-100 text-blue-600"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),t("div",Q,[e[13]||(e[13]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Total Pelanggan",-1)),t("p",Z,s(a.stats.totalPelanggan),1)])])]),t("div",G,[t("div",X,[e[16]||(e[16]=t("div",{class:"p-2 sm:p-3 rounded-full bg-blue-100 text-blue-600"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),t("div",Y,[e[15]||(e[15]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Pelanggan Aktif",-1)),t("p",tt,s(a.stats.pelangganAktif),1)])])]),t("div",et,[t("div",st,[e[18]||(e[18]=t("div",{class:"p-2 sm:p-3 rounded-full bg-red-100 text-red-600"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),t("div",at,[e[17]||(e[17]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Pelanggan Nonaktif",-1)),t("p",lt,s(a.stats.pelangganNonaktif),1)])])]),t("div",ot,[t("div",nt,[e[20]||(e[20]=t("div",{class:"p-2 sm:p-3 rounded-full bg-purple-100 text-purple-600"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})])],-1)),t("div",rt,[e[19]||(e[19]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Cakupan Area",-1)),t("p",it,s(a.stats.cakupanArea),1)])])])]),t("div",dt,[t("div",ut,[e[29]||(e[29]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Pembayaran Bulan Ini",-1)),t("div",gt,[t("div",mt,[e[21]||(e[21]=t("span",{class:"text-gray-600"},"Pembayaran Bulan Ini",-1)),t("span",xt,"Rp "+s(u(a.pembayaran.pembayaranBulanIni)),1)]),a.pembayaran.pembayaranTunggakan>0?(o(),n("div",pt,[e[22]||(e[22]=t("span",{class:"text-gray-600"},"Tunggakan Bulan Lalu",-1)),t("span",bt,"Rp "+s(u(a.pembayaran.pembayaranTunggakan)),1)])):b("",!0),t("div",ct,[e[23]||(e[23]=t("span",{class:"text-gray-900 font-semibold"},"Total Terbayar",-1)),t("span",vt,"Rp "+s(u(a.pembayaran.terbayar)),1)]),t("div",ft,[t("div",ht,[e[24]||(e[24]=t("span",{class:"text-gray-600"},"Progress Pelanggan Bayar",-1)),t("span",yt,s(j.value)+"%",1)]),t("div",wt,[t("div",{class:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:C({width:`${Math.min(j.value,100)}%`})},null,4)]),t("p",kt,s(a.pembayaran.sudahBayarCount)+" dari "+s(a.stats.pelangganAktif)+" pelanggan aktif",1)]),t("div",_t,[t("div",Bt,[e[25]||(e[25]=t("p",{class:"text-sm text-gray-600 mb-1"},"Sudah Bayar",-1)),t("p",Mt,s(a.pembayaran.sudahBayarCount),1),e[26]||(e[26]=t("p",{class:"text-xs text-gray-500 mt-1"},"pelanggan",-1))]),t("div",jt,[e[27]||(e[27]=t("p",{class:"text-sm text-gray-600 mb-1"},"Belum Bayar",-1)),t("p",Ct,s(a.pembayaran.belumBayarCount),1),e[28]||(e[28]=t("p",{class:"text-xs text-gray-500 mt-1"},"perlu ditagih",-1))])])])]),t("div",zt,[e[34]||(e[34]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Status Pelanggan",-1)),t("div",Pt,[t("div",St,[(o(),n("svg",Tt,[e[30]||(e[30]=t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#e5e7eb","stroke-width":"10"},null,-1)),t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#166534","stroke-width":"10","stroke-dasharray":`${M.value*2.51} 251`,"stroke-linecap":"round"},null,8,Rt)])),t("div",Lt,[t("div",At,[t("p",Vt,s(M.value)+"%",1),e[31]||(e[31]=t("p",{class:"text-sm text-gray-600"},"Aktif",-1))])])])]),t("div",Kt,[t("div",Ht,[e[32]||(e[32]=t("div",{class:"flex items-center justify-center"},[t("div",{class:"w-3 h-3 bg-blue-800 rounded-full mr-2"}),t("span",{class:"text-sm text-gray-600"},"Aktif")],-1)),t("p",Dt,s(a.stats.pelangganAktif),1)]),t("div",Ot,[e[33]||(e[33]=t("div",{class:"flex items-center justify-center"},[t("div",{class:"w-3 h-3 bg-gray-300 rounded-full mr-2"}),t("span",{class:"text-sm text-gray-600"},"Nonaktif")],-1)),t("p",$t,s(a.stats.pelangganNonaktif),1)])])])]),t("div",Nt,[t("div",It,[e[36]||(e[36]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Transaksi Pembayaran Terakhir",-1)),g(m(x),{href:"/laporan",class:"text-sm text-blue-700 font-medium hover:text-blue-800"},{default:d(()=>[...e[35]||(e[35]=[k("Lihat Semua Laporan →",-1)])]),_:1})]),t("div",Wt,[t("table",Ft,[e[38]||(e[38]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Waktu"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pelanggan"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pembayaran Untuk"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Jumlah")])],-1)),t("tbody",Ut,[(o(!0),n(_,null,B(a.recentTransactions,l=>(o(),n("tr",{key:l.id,class:"hover:bg-gray-50 transition-colors"},[t("td",qt,s(l.waktu_transaksi),1),t("td",Jt,[t("div",Et,s(l.pelanggan_nama),1),t("div",Qt,s(l.pelanggan_id)+" • "+s(l.wilayah),1)]),t("td",Zt," Tagihan "+s(l.bulan_bayar_text),1),t("td",Gt,[l.is_tunggakan?(o(),n("span",Xt," Bayar Tunggakan ")):(o(),n("span",Yt," Tagihan Rutin "))]),t("td",te,s(u(l.jumlah_bayar)),1)]))),128)),a.recentTransactions.length===0?(o(),n("tr",ee,[...e[37]||(e[37]=[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"}," Belum ada transaksi bulan ini. ",-1)])])):b("",!0)])])])]),t("div",se,[t("div",ae,[t("div",le,[e[39]||(e[39]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Pelanggan Belum Bayar",-1)),t("span",oe,s(a.pembayaran.belumBayarCount),1)]),t("div",ne,[(o(!0),n(_,null,B(a.pelangganBelumBayar,l=>(o(),n("div",{key:l.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[t("div",re,[t("p",ie,s(l.nama_pelanggan),1),t("p",de,s(l.id_pelanggan)+" • RT "+s(l.rt)+"/RW "+s(l.rw),1)]),t("div",ue,[l.no_whatsapp?(o(),n("a",{key:0,href:L(l.no_whatsapp),target:"_blank",class:"p-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-colors",title:"Chat WhatsApp"},[...e[40]||(e[40]=[t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})],-1)])],8,ge)):b("",!0),g(m(x),{href:`/pelanggan/${l.id}/edit`,class:"p-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 transition-colors",title:"Edit"},{default:d(()=>[...e[41]||(e[41]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"])])]))),128)),a.pelangganBelumBayar.length===0?(o(),n("div",me,[...e[42]||(e[42]=[t("svg",{class:"w-16 h-16 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t("p",{class:"font-semibold"},"Semua sudah bayar!",-1),t("p",{class:"text-sm"},"Tidak ada tunggakan bulan ini",-1)])])):b("",!0),a.pembayaran.belumBayarCount>10?(o(),n("div",xe,[g(m(x),{href:"/cek-pelanggan",class:"text-blue-800 hover:text-blue-900 font-semibold text-sm"},{default:d(()=>[k(" Lihat semua ("+s(a.pembayaran.belumBayarCount)+") → ",1)]),_:1})])):b("",!0)])]),t("div",pe,[e[43]||(e[43]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Distribusi per RT/RW",-1)),t("div",be,[(o(!0),n(_,null,B(a.distribusiRtRw,l=>(o(),n("div",{key:l.rt_rw,class:"flex items-center"},[t("div",ce,[t("span",ve,s(l.rt_rw),1)]),t("div",fe,[t("div",he,[t("div",{class:"bg-blue-800 h-4 rounded-full transition-all duration-300",style:C({width:`${l.jumlah/a.stats.totalPelanggan*100}%`})},null,4)])]),t("div",ye,[t("span",we,s(l.jumlah),1)])]))),128)),a.distribusiRtRw.length===0?(o(),n("div",ke," Belum ada data distribusi ")):b("",!0)])])]),t("div",_e,[t("div",Be,[t("div",null,[e[44]||(e[44]=t("h3",{class:"text-xl font-semibold text-gray-900"},"Laporan Keuangan Bulanan",-1)),t("p",Me,"Periode: "+s(A(a.laporanKeuangan.bulan)),1)]),t("button",{onClick:e[1]||(e[1]=l=>c.value=!0),class:"px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900 transition flex items-center gap-2"},[...e[45]||(e[45]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),k(" Update Biaya Operasional ",-1)])])]),t("div",je,[t("div",Ce,[e[46]||(e[46]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-sm font-medium text-blue-900"},"Total Tarikan"),t("svg",{class:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"})])],-1)),t("p",ze,"Rp "+s(u(a.laporanKeuangan.totalTarikan)),1),t("p",Pe,"Dari "+s(a.laporanKeuangan.totalSRSudahBayar)+" pelanggan",1)]),t("div",Se,[e[47]||(e[47]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-sm font-medium text-purple-900"},"20% Tarikan"),t("svg",{class:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),t("p",Te,"Rp "+s(u(a.laporanKeuangan.tarik20Persen)),1),e[48]||(e[48]=t("p",{class:"text-xs text-purple-700 mt-1"},"Jasa penarik",-1))]),t("div",Re,[e[49]||(e[49]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-sm font-medium text-orange-900"},"Biaya Operasional"),t("svg",{class:"w-5 h-5 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),t("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"})])],-1)),t("p",Le,"Rp "+s(u(a.laporanKeuangan.biayaOperasionalPenarik)),1),e[50]||(e[50]=t("p",{class:"text-xs text-orange-700 mt-1"},"BBM, dll.",-1))]),t("div",Ae,[e[51]||(e[51]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-sm font-medium text-indigo-900"},"Total Honor Penarik"),t("svg",{class:"w-5 h-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})])],-1)),t("p",Ve,"Rp "+s(u(a.laporanKeuangan.honorPenarik)),1),e[52]||(e[52]=t("p",{class:"text-xs text-indigo-700 mt-1"},"20% + Operasional",-1))]),t("div",Ke,[e[53]||(e[53]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-base font-semibold text-blue-900"},"Total Tarikan Bersih"),t("svg",{class:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})])],-1)),t("p",He,"Rp "+s(u(a.laporanKeuangan.totalTarikanBersih)),1),e[54]||(e[54]=t("p",{class:"text-sm text-blue-700 mt-1"},"Sisa untuk kas & operasional KP-SPAMS",-1))]),t("div",De,[e[58]||(e[58]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Sambungan Rumah (SR)",-1)),t("div",Oe,[t("div",null,[e[55]||(e[55]=t("p",{class:"text-xs text-gray-600"},"Sudah Bayar",-1)),t("p",$e,s(a.laporanKeuangan.totalSRSudahBayar),1)]),t("div",null,[e[56]||(e[56]=t("p",{class:"text-xs text-gray-600"},"Belum Bayar",-1)),t("p",Ne,s(a.laporanKeuangan.totalSRBelumBayar),1)]),t("div",null,[e[57]||(e[57]=t("p",{class:"text-xs text-gray-600"},"Total SR Aktif",-1)),t("p",Ie,s(a.laporanKeuangan.totalSR),1)])])])])]),t("div",We,[e[62]||(e[62]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Menu Cepat",-1)),t("div",Fe,[g(m(x),{href:"/cek-pelanggan",class:"flex items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors"},{default:d(()=>[...e[59]||(e[59]=[t("div",{class:"p-3 bg-blue-800 rounded-lg text-white"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1),t("div",{class:"ml-4"},[t("p",{class:"font-semibold text-gray-900"},"Data Pelanggan"),t("p",{class:"text-sm text-gray-600"},"Lihat & kelola data pelanggan")],-1)])]),_:1}),g(m(x),{href:"/peta",class:"flex items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors"},{default:d(()=>[...e[60]||(e[60]=[t("div",{class:"p-3 bg-blue-600 rounded-lg text-white"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})])],-1),t("div",{class:"ml-4"},[t("p",{class:"font-semibold text-gray-900"},"Peta Pelanggan"),t("p",{class:"text-sm text-gray-600"},"Lihat lokasi pelanggan di peta")],-1)])]),_:1}),g(m(x),{href:"/",class:"flex items-center p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors"},{default:d(()=>[...e[61]||(e[61]=[t("div",{class:"p-3 bg-purple-600 rounded-lg text-white"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),t("div",{class:"ml-4"},[t("p",{class:"font-semibold text-gray-900"},"Info KP-SPAMS"),t("p",{class:"text-sm text-gray-600"},"Informasi & layanan")],-1)])]),_:1})])])])]),c.value?(o(),n("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:e[6]||(e[6]=z(l=>c.value=!1,["self"]))},[t("div",Ue,[e[68]||(e[68]=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),t("div",qe,[t("div",Je,[e[64]||(e[64]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Update Biaya Operasional Penarik",-1)),t("button",{onClick:e[2]||(e[2]=l=>c.value=!1),class:"text-gray-400 hover:text-gray-600"},[...e[63]||(e[63]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:z(R,["prevent"])},[t("div",Ee,[e[65]||(e[65]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Bulan",-1)),w(t("input",{type:"month","onUpdate:modelValue":e[3]||(e[3]=l=>p.value.bulan=l),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",required:""},null,512),[[P,p.value.bulan]])]),t("div",Qe,[e[66]||(e[66]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Biaya Operasional (Rp)",-1)),w(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=l=>p.value.biaya_operasional_penarik=l),step:"1000",min:"0",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",required:""},null,512),[[P,p.value.biaya_operasional_penarik]]),e[67]||(e[67]=t("p",{class:"text-xs text-gray-500 mt-1"},"BBM, maintenance, dll.",-1))]),t("div",Ze,[t("button",{type:"submit",disabled:f.value,class:"flex-1 px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900 transition disabled:opacity-50"},[f.value?(o(),n("span",Xe,"Menyimpan...")):(o(),n("span",Ye,"Simpan"))],8,Ge),t("button",{type:"button",onClick:e[5]||(e[5]=l=>c.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition"}," Batal ")])],32)])])])):b("",!0)]),_:1}))}};export{ls as default};
