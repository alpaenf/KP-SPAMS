import{m as x,c as k,w as f,a as e,b as w,d,e as n,f as u,j as m,n as i,v as p,o,t as g,y,h as c,i as h,g as V,l as U,k as M}from"./app--UBKtDbt.js";import{_ as K}from"./AppLayout-CdFsinhQ.js";/* empty css            */const P={class:"py-12"},B={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},L={class:"bg-white rounded-lg shadow-md p-8"},N={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},S={key:0,class:"mt-1 text-sm text-red-600"},j={key:0,class:"mt-1 text-sm text-red-600"},C={key:0,class:"mt-1 text-sm text-red-600"},D={key:0,class:"mt-1 text-sm text-red-600"},G={key:0,class:"mt-1 text-sm text-red-600"},T={key:0,class:"mt-1 text-sm text-red-600"},W={key:0,class:"mt-1 text-sm text-red-600"},q={class:"flex gap-2"},z={key:0,class:"mt-1 text-sm text-red-600"},E={key:0,class:"mt-1 text-sm text-red-600"},H={class:"mt-6"},$={key:0,class:"mt-1 text-sm text-red-600"},A={class:"mt-6"},F={class:"flex items-center"},O={class:"mt-8 flex gap-4"},R=["disabled"],I={key:0},J={key:1},_={__name:"Edit",props:{pelanggan:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},setup(a){const s=a,r=x({id_pelanggan:s.pelanggan.id_pelanggan,nama_pelanggan:s.pelanggan.nama_pelanggan,no_whatsapp:s.pelanggan.no_whatsapp||"",rt:s.pelanggan.rt,rw:s.pelanggan.rw,kategori:s.pelanggan.kategori||"umum",wilayah:s.pelanggan.wilayah||"Dawuhan",latitude:s.pelanggan.latitude,longitude:s.pelanggan.longitude,google_maps_url:s.pelanggan.google_maps_url||"",status_aktif:s.pelanggan.status_aktif}),b=x(!1),v=()=>{b.value=!0,M.put(`/pelanggan/${s.pelanggan.id}`,r.value,{onFinish:()=>{b.value=!1}})};return(Q,t)=>(o(),k(K,null,{default:f(()=>[e("div",P,[e("div",B,[t[30]||(t[30]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"Edit Pelanggan"),e("p",{class:"text-gray-600 mt-1"},"Update informasi pelanggan")],-1)),e("div",L,[e("form",{onSubmit:w(v,["prevent"])},[e("div",N,[e("div",null,[t[12]||(t[12]=e("label",{for:"id_pelanggan",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" ID Pelanggan "),e("span",{class:"text-red-600"},"*")],-1)),d(e("input",{type:"text",id:"id_pelanggan","onUpdate:modelValue":t[0]||(t[0]=l=>r.value.id_pelanggan=l),placeholder:"PLG001",class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",{"border-red-500":a.errors.id_pelanggan}]),required:""},null,2),[[p,r.value.id_pelanggan]]),a.errors.id_pelanggan?(o(),n("p",S,g(a.errors.id_pelanggan),1)):u("",!0)]),e("div",null,[t[13]||(t[13]=e("label",{for:"nama_pelanggan",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Nama Pelanggan "),e("span",{class:"text-red-600"},"*")],-1)),d(e("input",{type:"text",id:"nama_pelanggan","onUpdate:modelValue":t[1]||(t[1]=l=>r.value.nama_pelanggan=l),placeholder:"Nama lengkap",class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",{"border-red-500":a.errors.nama_pelanggan}]),required:""},null,2),[[p,r.value.nama_pelanggan]]),a.errors.nama_pelanggan?(o(),n("p",j,g(a.errors.nama_pelanggan),1)):u("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{for:"no_whatsapp",class:"block text-sm font-medium text-gray-700 mb-2"},"No. WhatsApp",-1)),d(e("input",{type:"text",id:"no_whatsapp","onUpdate:modelValue":t[2]||(t[2]=l=>r.value.no_whatsapp=l),placeholder:"08123456789",class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",{"border-red-500":a.errors.no_whatsapp}])},null,2),[[p,r.value.no_whatsapp]]),a.errors.no_whatsapp?(o(),n("p",C,g(a.errors.no_whatsapp),1)):u("",!0)]),e("div",null,[t[15]||(t[15]=e("label",{for:"rt",class:"block text-sm font-medium text-gray-700 mb-2"},"RT",-1)),d(e("input",{type:"number",id:"rt","onUpdate:modelValue":t[3]||(t[3]=l=>r.value.rt=l),placeholder:"001",class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",{"border-red-500":a.errors.rt}])},null,2),[[p,r.value.rt]]),a.errors.rt?(o(),n("p",D,g(a.errors.rt),1)):u("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{for:"rw",class:"block text-sm font-medium text-gray-700 mb-2"},"RW",-1)),d(e("input",{type:"number",id:"rw","onUpdate:modelValue":t[4]||(t[4]=l=>r.value.rw=l),placeholder:"001",class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",{"border-red-500":a.errors.rw}])},null,2),[[p,r.value.rw]]),a.errors.rw?(o(),n("p",G,g(a.errors.rw),1)):u("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{for:"kategori",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Kategori Pelanggan "),e("span",{class:"text-red-600"},"*")],-1)),d(e("select",{id:"kategori","onUpdate:modelValue":t[5]||(t[5]=l=>r.value.kategori=l),class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",{"border-red-500":a.errors.kategori}]),required:""},[...t[17]||(t[17]=[e("option",{value:"umum"},"Umum",-1),e("option",{value:"sosial"},"Sosial (Gratis)",-1)])],2),[[y,r.value.kategori]]),a.errors.kategori?(o(),n("p",T,g(a.errors.kategori),1)):u("",!0),t[19]||(t[19]=e("p",{class:"mt-1 text-xs text-gray-500"},"Pelanggan kategori sosial tidak dikenakan biaya",-1))]),e("div",null,[t[21]||(t[21]=e("label",{for:"wilayah",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Wilayah "),e("span",{class:"text-red-600"},"*")],-1)),d(e("select",{id:"wilayah","onUpdate:modelValue":t[6]||(t[6]=l=>r.value.wilayah=l),class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",{"border-red-500":a.errors.wilayah}]),required:""},[...t[20]||(t[20]=[e("option",{value:"Dawuhan"},"Dawuhan",-1),e("option",{value:"Kubangsari Kulon"},"Kubangsari Kulon",-1),e("option",{value:"Kubangsari Wetan"},"Kubangsari Wetan",-1),e("option",{value:"Sokarame"},"Sokarame",-1),e("option",{value:"Tiparjaya"},"Tiparjaya",-1)])],2),[[y,r.value.wilayah]]),a.errors.wilayah?(o(),n("p",W,g(a.errors.wilayah),1)):u("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{for:"latitude",class:"block text-sm font-medium text-gray-700 mb-2"},"Latitude",-1)),e("div",q,[d(e("input",{type:"text",id:"latitude","onUpdate:modelValue":t[7]||(t[7]=l=>r.value.latitude=l),placeholder:"-6.200000",class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent transition",{"border-red-500":a.errors.latitude}])},null,2),[[p,r.value.latitude]]),e("button",{type:"button",onClick:t[8]||(t[8]=l=>r.value.latitude=r.value.latitude?r.value.latitude.startsWith("-")?r.value.latitude.substring(1):"-"+r.value.latitude:"-"),class:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-bold border border-gray-300 shadow-sm",title:"Ubah Tanda +/-"}," ± ")]),a.errors.latitude?(o(),n("p",z,g(a.errors.latitude),1)):u("",!0),t[23]||(t[23]=e("a",{href:"https://www.google.com/maps",target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center mt-1 text-xs text-blue-600 hover:text-blue-800"},[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),e("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]),m(" Buka Google Maps untuk mendapatkan koordinat ")],-1))]),e("div",null,[t[24]||(t[24]=e("label",{for:"longitude",class:"block text-sm font-medium text-gray-700 mb-2"},"Longitude",-1)),d(e("input",{type:"text",inputmode:"decimal",id:"longitude","onUpdate:modelValue":t[9]||(t[9]=l=>r.value.longitude=l),placeholder:"106.816666",class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",{"border-red-500":a.errors.longitude}])},null,2),[[p,r.value.longitude]]),a.errors.longitude?(o(),n("p",E,g(a.errors.longitude),1)):u("",!0),t[25]||(t[25]=e("p",{class:"mt-1 text-xs text-gray-500"},"Klik kanan pada lokasi di Google Maps → Koordinat akan muncul di bagian atas",-1))])]),e("div",H,[t[26]||(t[26]=e("label",{for:"google_maps_url",class:"block text-sm font-medium text-gray-700 mb-2"}," Link Google Maps ",-1)),d(e("input",{type:"url",id:"google_maps_url","onUpdate:modelValue":t[10]||(t[10]=l=>r.value.google_maps_url=l),placeholder:"https://maps.app.goo.gl/xxxx",class:i(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",{"border-red-500":a.errors.google_maps_url}])},null,2),[[p,r.value.google_maps_url]]),a.errors.google_maps_url?(o(),n("p",$,g(a.errors.google_maps_url),1)):u("",!0),t[27]||(t[27]=e("p",{class:"mt-1 text-xs text-gray-500"},"Paste shortened Google Maps link (contoh: https://maps.app.goo.gl/8jxgfLkPirsLH9uc7)",-1))]),e("div",A,[e("label",F,[d(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=l=>r.value.status_aktif=l),class:"h-4 w-4 text-blue-800 focus:ring-blue-800 border-gray-300 rounded"},null,512),[[c,r.value.status_aktif]]),t[28]||(t[28]=e("span",{class:"ml-2 text-sm text-gray-700"},"Status Aktif",-1))])]),e("div",O,[e("button",{type:"submit",disabled:b.value,class:"px-6 py-3 bg-blue-800 text-white rounded-lg font-semibold hover:bg-blue-900 transition disabled:opacity-50 disabled:cursor-not-allowed"},[b.value?(o(),n("span",I,"Menyimpan...")):(o(),n("span",J,"Update"))],8,R),h(V(U),{href:"/cek-pelanggan",class:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-400 transition"},{default:f(()=>[...t[29]||(t[29]=[m(" Batal ",-1)])]),_:1})])],32)])])])]),_:1}))}};export{_ as default};
