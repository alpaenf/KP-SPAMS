import{m as y,e as r,a as t,i as k,j as i,w as h,g as _,l as S,b as q,d as p,y as m,H as P,v,t as s,F as b,r as g,o as n,n as R,k as C}from"./app-CCzDrpEG.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const V={class:"min-h-screen bg-gray-50 py-8"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"mb-8 flex justify-between items-center"},B={class:"flex gap-3"},j=["href"],z={class:"bg-white rounded-lg shadow-md p-6 mb-6"},A={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},W={class:"flex items-center"},D={class:"text-sm text-blue-700"},F={class:"bg-white rounded-lg shadow-md p-6 mb-6 no-print"},H={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},L=["src","alt"],Q={class:"text-xs font-semibold text-gray-900"},U={class:"text-xs text-gray-600 truncate"},N={class:"text-xs text-gray-500"},I={class:"print-only"},E={class:"print-page"},O={class:"qr-card-inner"},G={class:"qr-code-container"},J=["src","alt"],X={class:"qr-info"},Y={class:"qr-id"},Z={class:"qr-name"},$={class:"qr-address"},tt={class:"qr-wilayah"},et={__name:"BulkPreview",props:{pelangganList:Array,filters:Object},setup(d){const u=d,l=y({wilayah:u.filters.wilayah,rt:u.filters.rt,rw:u.filters.rw,status_aktif:u.filters.status_aktif}),f=()=>{C.get("/qr-code/bulk-preview",l.value,{preserveState:!0})},c=()=>{window.print()},w=()=>{const o=new URLSearchParams;return l.value.wilayah&&l.value.wilayah!=="all"&&o.append("wilayah",l.value.wilayah),l.value.rt&&l.value.rt!=="all"&&o.append("rt",l.value.rt),l.value.rw&&l.value.rw!=="all"&&o.append("rw",l.value.rw),l.value.status_aktif&&l.value.status_aktif!=="all"&&o.append("status_aktif",l.value.status_aktif),o.toString()};return(o,e)=>(n(),r("div",V,[t("div",K,[t("div",T,[e[7]||(e[7]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Print QR Code Pelanggan"),t("p",{class:"mt-2 text-sm text-gray-600"}," Preview dan cetak QR code untuk pelanggan ")],-1)),t("div",B,[t("a",{href:"/qr-code/bulk-download-pdf?"+w(),class:"inline-flex items-center px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold"},[...e[4]||(e[4]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),i(" Download PDF ",-1)])],8,j),t("button",{onClick:c,class:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold"},[...e[5]||(e[5]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),i(" Print Semua ",-1)])]),k(_(S),{href:"/cek-pelanggan",class:"inline-flex items-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300"},{default:h(()=>[...e[6]||(e[6]=[i(" Kembali ",-1)])]),_:1})])]),t("div",z,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold mb-4"},"Filter Pelanggan",-1)),t("form",{onSubmit:q(f,["prevent"]),class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Wilayah",-1)),p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.wilayah=a),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...e[8]||(e[8]=[P('<option value="all" data-v-022a2893>Semua Wilayah</option><option value="Dawuhan" data-v-022a2893>Dawuhan</option><option value="Kubangsari Kulon" data-v-022a2893>Kubangsari Kulon</option><option value="Kubangsari Wetan" data-v-022a2893>Kubangsari Wetan</option><option value="Sokarame" data-v-022a2893>Sokarame</option><option value="Tiparjaya" data-v-022a2893>Tiparjaya</option>',6)])],512),[[m,l.value.wilayah]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"RT",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.rt=a),type:"text",placeholder:"Contoh: 001",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,l.value.rt]])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"RW",-1)),p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.rw=a),type:"text",placeholder:"Contoh: 002",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[v,l.value.rw]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.status_aktif=a),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...e[12]||(e[12]=[t("option",{value:"all"},"Semua Status",-1),t("option",{value:"aktif"},"Aktif",-1),t("option",{value:"nonaktif"},"Tidak Aktif",-1)])],512),[[m,l.value.status_aktif]])]),e[14]||(e[14]=t("div",{class:"md:col-span-4"},[t("button",{type:"submit",class:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold"}," Terapkan Filter ")],-1))],32)]),t("div",A,[t("div",W,[e[18]||(e[18]=t("svg",{class:"h-5 w-5 text-blue-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)),t("span",D,[e[16]||(e[16]=i(" Menampilkan ",-1)),t("strong",null,s(d.pelangganList.length),1),e[17]||(e[17]=i(' QR code pelanggan. Klik "Print Semua" untuk mencetak. ',-1))])])]),t("div",F,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold mb-4"},"Preview QR Code",-1)),t("div",H,[(n(!0),r(b,null,g(d.pelangganList,a=>(n(),r("div",{key:a.id,class:"border border-gray-200 rounded-lg p-4 text-center"},[t("img",{src:a.qr_code_data_url,alt:a.id_pelanggan,class:"w-full h-auto mb-2"},null,8,L),t("p",Q,s(a.id_pelanggan),1),t("p",U,s(a.nama_pelanggan),1),t("p",N,"RT "+s(a.rt)+" / RW "+s(a.rw),1)]))),128))])]),t("div",I,[t("div",E,[(n(!0),r(b,null,g(d.pelangganList,(a,x)=>(n(),r("div",{key:a.id,class:R(["qr-card",{"page-break":(x+1)%12===0}])},[t("div",O,[e[20]||(e[20]=t("div",{class:"qr-header"},[t("h4",null,"PAMSIMAS"),t("p",null,"Kartu Pelanggan")],-1)),t("div",G,[t("img",{src:a.qr_code_data_url,alt:a.id_pelanggan},null,8,J)]),t("div",X,[t("p",Y,s(a.id_pelanggan),1),t("p",Z,s(a.nama_pelanggan),1),t("p",$,"RT "+s(a.rt)+" / RW "+s(a.rw),1),t("p",tt,s(a.wilayah),1)]),e[21]||(e[21]=t("div",{class:"qr-footer"},[t("p",null,"Scan untuk Input Meteran")],-1))])],2))),128))])])])]))}},ot=M(et,[["__scopeId","data-v-022a2893"]]);export{ot as default};
