import{m as _,u as C,c,w as F,a as t,e as r,f as d,o as l,b as j,g as a,d as p,v as m,t as g,F as f,r as b,j as x,l as M,n as B,k as S}from"./app-BeSdVZ6q.js";import{_ as $}from"./AppLayout-z9qgcQG6.js";/* empty css            */const H={class:"max-w-6xl mx-auto px-4 py-8"},U={class:"mb-8 flex justify-between items-center"},V={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},L={class:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4"},T={class:"flex gap-3"},A=["disabled"],D={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},G={class:"relative aspect-square overflow-hidden bg-gray-200"},K=["src","alt"],z={class:"p-4"},E={key:0,class:"text-gray-900 font-medium mb-2"},N={key:1,class:"text-sm text-gray-600 mb-3"},P={class:"flex gap-2"},q=["onClick"],I=["onClick"],Y={key:1,class:"mt-8"},O={class:"flex justify-center gap-2"},W={__name:"Index",props:{galeris:Object},setup(u){const n=_(!1),s=C({foto:null,caption:"",kategori:""}),v=()=>{s.post(route("galeri.store"),{onSuccess:()=>{s.reset(),n.value=!1}})},y=i=>{},k=(i,e)=>{const o=e?`Yakin ingin menghapus foto "${e}"?

Foto yang dihapus tidak dapat dikembalikan.`:`Yakin ingin menghapus foto ini?

Foto yang dihapus tidak dapat dikembalikan.`;confirm(o)&&h(i)},h=i=>{S.delete(route("galeri.destroy",i),{onSuccess:()=>{},onError:e=>{alert("Gagal menghapus foto. Silakan coba lagi."),console.error(e)}})};return(i,e)=>(l(),c($,null,{default:F(()=>[t("div",H,[t("div",U,[e[5]||(e[5]=t("div",null,[t("h1",{class:"text-4xl font-bold text-gray-900"},"Kelola Galeri"),t("p",{class:"text-gray-600 mt-2"},"Kelola foto-foto KP-SPAMS")],-1)),t("button",{onClick:e[0]||(e[0]=o=>n.value=!0),class:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition font-medium"}," + Tambah Foto ")]),n.value?(l(),r("div",V,[t("div",L,[e[9]||(e[9]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"Upload Foto",-1)),t("form",{onSubmit:j(v,["prevent"]),class:"space-y-4"},[t("div",null,[e[6]||(e[6]=t("label",{for:"foto",class:"block text-sm font-medium text-gray-700 mb-2"}," Pilih Foto ",-1)),t("input",{id:"foto",type:"file",onChange:e[1]||(e[1]=o=>a(s).foto=o.target.files[0]),accept:"image/*",class:"w-full px-4 py-2 border border-gray-300 rounded-lg",required:""},null,32)]),t("div",null,[e[7]||(e[7]=t("label",{for:"caption",class:"block text-sm font-medium text-gray-700 mb-2"}," Caption ",-1)),p(t("input",{id:"caption",type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>a(s).caption=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Deskripsi singkat foto..."},null,512),[[m,a(s).caption]])]),t("div",null,[e[8]||(e[8]=t("label",{for:"kategori",class:"block text-sm font-medium text-gray-700 mb-2"}," Kategori ",-1)),p(t("input",{id:"kategori",type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>a(s).kategori=o),class:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Contoh: Aktivitas, Acara, Infrastruktur..."},null,512),[[m,a(s).kategori]])]),t("div",T,[t("button",{type:"submit",class:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",disabled:a(s).processing},g(a(s).processing?"Uploading...":"Upload"),9,A),t("button",{type:"button",onClick:e[4]||(e[4]=o=>n.value=!1),class:"flex-1 px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition"}," Batal ")])],32)])])):d("",!0),t("div",D,[(l(!0),r(f,null,b(u.galeris.data,o=>(l(),r("div",{key:o.id,class:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition group"},[t("div",G,[t("img",{src:`/storage/${o.foto}`,alt:o.caption,class:"w-full h-full object-cover group-hover:scale-105 transition duration-300"},null,8,K)]),t("div",z,[o.caption?(l(),r("p",E,g(o.caption),1)):d("",!0),o.kategori?(l(),r("p",N,g(o.kategori),1)):d("",!0),t("div",P,[t("button",{onClick:w=>y(o),class:"flex-1 px-3 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition flex items-center justify-center gap-1"},[...e[10]||(e[10]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),x(" Edit ",-1)])],8,q),t("button",{onClick:w=>k(o.id,o.caption),class:"flex-1 px-3 py-2 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition flex items-center justify-center gap-1 font-medium"},[...e[11]||(e[11]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),x(" Hapus Foto ",-1)])],8,I)])])]))),128))]),u.galeris.links?(l(),r("div",Y,[t("div",O,[(l(!0),r(f,null,b(u.galeris.links,o=>(l(),c(a(M),{key:o.label,href:o.url,class:B({"px-4 py-2 rounded-lg":!0,"bg-blue-500 text-white":o.active,"bg-gray-200 text-gray-800 hover:bg-gray-300":!o.active,"opacity-50 cursor-not-allowed":!o.url}),innerHTML:o.label},null,8,["href","class","innerHTML"]))),128))])])):d("",!0)])]),_:1}))}};export{W as default};
