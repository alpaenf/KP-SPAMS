import{m as C,u as F,c as g,w as p,a as t,e as l,f as d,o as s,b as j,g as i,d as f,v as m,t as u,F as b,r as x,j as y,l as B,n as M,k as S}from"./app-B4fXe_ST.js";import{_ as $}from"./AppLayout-DbOUOWCK.js";/* empty css            */const U={class:"max-w-6xl mx-auto px-4 py-8"},V={class:"mb-8 flex justify-between items-center"},N={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},P={class:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4"},q={class:"flex gap-3"},A=["disabled"],D={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},G={class:"relative aspect-square overflow-hidden bg-gray-200"},H=["src","alt"],K={class:"p-4"},z={key:0,class:"text-gray-900 font-medium mb-2"},E={key:1,class:"text-sm text-gray-600 mb-3"},L={class:"flex gap-2"},T=["onClick"],I=["onClick"],Y={key:1,class:"mt-8"},O={class:"flex justify-center gap-2"},J={key:0},Q={key:1},R={key:2},W={key:3},X={key:4},ot={__name:"Index",props:{galeris:Object},setup(c){const r=C(!1),a=F({foto:null,caption:"",kategori:""}),v=()=>{a.post(route("galeri.store"),{onSuccess:()=>{a.reset(),r.value=!1}})},h=n=>{},k=(n,o)=>{const e=o?`Yakin ingin menghapus foto "${o}"?

Foto yang dihapus tidak dapat dikembalikan.`:`Yakin ingin menghapus foto ini?

Foto yang dihapus tidak dapat dikembalikan.`;confirm(e)&&w(n)},w=n=>{S.delete(route("galeri.destroy",n),{onSuccess:()=>{},onError:o=>{alert("Gagal menghapus foto. Silakan coba lagi."),console.error(o)}})};return(n,o)=>(s(),g($,null,{default:p(()=>[t("div",U,[t("div",V,[o[5]||(o[5]=t("div",null,[t("h1",{class:"text-4xl font-bold text-gray-900"},"Kelola Galeri"),t("p",{class:"text-gray-600 mt-2"},"Kelola foto-foto KP-SPAMS")],-1)),t("button",{onClick:o[0]||(o[0]=e=>r.value=!0),class:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition font-medium"}," + Tambah Foto ")]),r.value?(s(),l("div",N,[t("div",P,[o[9]||(o[9]=t("h2",{class:"text-2xl font-bold text-gray-900 mb-4"},"Upload Foto",-1)),t("form",{onSubmit:j(v,["prevent"]),class:"space-y-4"},[t("div",null,[o[6]||(o[6]=t("label",{for:"foto",class:"block text-sm font-medium text-gray-700 mb-2"}," Pilih Foto ",-1)),t("input",{id:"foto",type:"file",onChange:o[1]||(o[1]=e=>i(a).foto=e.target.files[0]),accept:"image/*",class:"w-full px-4 py-2 border border-gray-300 rounded-lg",required:""},null,32)]),t("div",null,[o[7]||(o[7]=t("label",{for:"caption",class:"block text-sm font-medium text-gray-700 mb-2"}," Caption ",-1)),f(t("input",{id:"caption",type:"text","onUpdate:modelValue":o[2]||(o[2]=e=>i(a).caption=e),class:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Deskripsi singkat foto..."},null,512),[[m,i(a).caption]])]),t("div",null,[o[8]||(o[8]=t("label",{for:"kategori",class:"block text-sm font-medium text-gray-700 mb-2"}," Kategori ",-1)),f(t("input",{id:"kategori",type:"text","onUpdate:modelValue":o[3]||(o[3]=e=>i(a).kategori=e),class:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Contoh: Aktivitas, Acara, Infrastruktur..."},null,512),[[m,i(a).kategori]])]),t("div",q,[t("button",{type:"submit",class:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",disabled:i(a).processing},u(i(a).processing?"Uploading...":"Upload"),9,A),t("button",{type:"button",onClick:o[4]||(o[4]=e=>r.value=!1),class:"flex-1 px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 transition"}," Batal ")])],32)])])):d("",!0),t("div",D,[(s(!0),l(b,null,x(c.galeris.data,e=>(s(),l("div",{key:e.id,class:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition group"},[t("div",G,[t("img",{src:`/storage/${e.foto}`,alt:e.caption,class:"w-full h-full object-cover group-hover:scale-105 transition duration-300"},null,8,H)]),t("div",K,[e.caption?(s(),l("p",z,u(e.caption),1)):d("",!0),e.kategori?(s(),l("p",E,u(e.kategori),1)):d("",!0),t("div",L,[t("button",{onClick:_=>h(e),class:"flex-1 px-3 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition flex items-center justify-center gap-1"},[...o[10]||(o[10]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),y(" Edit ",-1)])],8,T),t("button",{onClick:_=>k(e.id,e.caption),class:"flex-1 px-3 py-2 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition flex items-center justify-center gap-1 font-medium"},[...o[11]||(o[11]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),y(" Hapus Foto ",-1)])],8,I)])])]))),128))]),c.galeris.links?(s(),l("div",Y,[t("div",O,[(s(!0),l(b,null,x(c.galeris.links,e=>(s(),g(i(B),{key:e.label,href:e.url,class:M({"px-4 py-2 rounded-lg":!0,"bg-blue-500 text-white":e.active,"bg-gray-200 text-gray-800 hover:bg-gray-300":!e.active,"opacity-50 cursor-not-allowed":!e.url})},{default:p(()=>[e.label.includes("Previous")?(s(),l("span",J,"← Previous")):e.label.includes("Next")?(s(),l("span",Q,"Next →")):e.label.includes("laquo")?(s(),l("span",R,"«")):e.label.includes("raquo")?(s(),l("span",W,"»")):(s(),l("span",X,u(e.label),1))]),_:2},1032,["href","class"]))),128))])])):d("",!0)])]),_:1}))}};export{ot as default};
