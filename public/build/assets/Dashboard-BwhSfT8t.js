import{m as f,p as y,c as K,w as m,a as t,e as n,f as b,t as a,i as g,o,d as w,y as D,g as p,l as x,D as P,j as k,F as _,r as B,b as z,v as M,k as S}from"./app-C2mMy6ex.js";import{_ as H}from"./AppLayout-BMuYgOCS.js";import{_ as $}from"./InstallPWAButton-CTxbe9-W.js";/* empty css            */const O={class:"py-6 sm:py-12"},N={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},I={class:"mb-6 sm:mb-8"},F={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4"},W={class:"flex-1"},J={class:"text-2xl sm:text-3xl font-bold text-gray-900"},U={class:"text-sm sm:text-base text-gray-600 mt-1"},q={class:"mt-3"},E={key:0,class:"w-full sm:w-auto"},Q={class:"mb-6 sm:mb-8"},Z={class:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4"},G={class:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8"},X={class:"bg-white rounded-lg shadow-md p-3 sm:p-6"},Y={class:"flex items-center"},tt={class:"ml-2 sm:ml-4"},et={class:"text-lg sm:text-2xl font-bold text-gray-900"},at={class:"bg-white rounded-lg shadow-md p-3 sm:p-6"},st={class:"flex items-center"},lt={class:"ml-2 sm:ml-4"},ot={class:"text-lg sm:text-2xl font-bold text-gray-900"},nt={class:"bg-white rounded-lg shadow-md p-3 sm:p-6"},rt={class:"flex items-center"},it={class:"ml-2 sm:ml-4"},dt={class:"text-lg sm:text-2xl font-bold text-gray-900"},ut={class:"bg-white rounded-lg shadow-md p-3 sm:p-6"},mt={class:"flex items-center"},gt={class:"ml-2 sm:ml-4"},pt={class:"text-lg sm:text-2xl font-bold text-gray-900"},xt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},bt={class:"bg-white rounded-lg shadow-md p-6"},ct={class:"space-y-4"},vt={class:"flex justify-between items-center pb-3 border-b"},ht={class:"text-xl font-bold text-blue-600"},ft={key:0,class:"flex justify-between items-center pb-3 border-b"},yt={class:"text-gray-600"},wt={class:"text-xl font-bold text-blue-600"},kt={class:"flex justify-between items-center pb-3 border-b bg-blue-50 -mx-4 px-4 py-3 rounded-lg"},_t={class:"text-xl font-bold text-blue-700"},Bt={class:"mt-6"},Mt={class:"flex justify-between text-sm mb-2"},jt={class:"font-semibold text-gray-900"},Ct={class:"bg-gray-200 rounded-full h-3"},Pt={class:"text-xs text-gray-500 mt-2"},zt={class:"grid grid-cols-2 gap-4 mt-6"},St={class:"bg-blue-50 rounded-lg p-4"},At={class:"text-2xl font-bold text-blue-600"},Rt={class:"bg-red-50 rounded-lg p-4"},Tt={class:"text-2xl font-bold text-red-600"},Lt={class:"bg-white rounded-lg shadow-md p-6"},Vt={class:"flex items-center justify-center h-64"},Kt={class:"relative w-48 h-48"},Dt={class:"transform -rotate-90",viewBox:"0 0 100 100"},Ht=["stroke-dasharray"],$t={class:"absolute inset-0 flex items-center justify-center"},Ot={class:"text-center"},Nt={class:"text-3xl font-bold text-gray-900"},It={class:"mt-4 flex justify-around"},Ft={class:"text-center"},Wt={class:"text-lg font-semibold text-gray-900 mt-1"},Jt={class:"text-center"},Ut={class:"text-lg font-semibold text-gray-900 mt-1"},qt={class:"bg-white rounded-lg shadow-md p-6 mb-8"},Et={class:"flex justify-between items-center mb-4"},Qt={class:"overflow-x-auto"},Zt={class:"min-w-full divide-y divide-gray-200"},Gt={class:"bg-white divide-y divide-gray-200"},Xt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Yt={class:"px-6 py-4"},te={class:"text-sm font-medium text-gray-900"},ee={class:"text-xs text-gray-500"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},se={class:"px-6 py-4 whitespace-nowrap"},le={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800"},oe={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-bold"},re={key:0},ie={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},de={class:"bg-white rounded-lg shadow-md p-6"},ue={class:"flex justify-between items-center mb-4"},me={class:"px-3 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full"},ge={class:"space-y-3 max-h-80 overflow-y-auto"},pe={class:"flex-1"},xe={class:"font-semibold text-gray-900"},be={class:"text-sm text-gray-600"},ce={class:"flex gap-2"},ve=["href"],he={key:0,class:"text-center text-gray-500 py-8"},fe={key:1,class:"text-center pt-3 border-t"},ye={class:"bg-white rounded-lg shadow-md p-6"},we={class:"space-y-3 max-h-64 overflow-y-auto"},ke={class:"flex-shrink-0 w-20"},_e={class:"text-sm font-medium text-gray-700"},Be={class:"flex-1 mx-4"},Me={class:"bg-gray-200 rounded-full h-4"},je={class:"flex-shrink-0 w-16 text-right"},Ce={class:"text-sm font-semibold text-gray-900"},Pe={key:0,class:"text-center text-gray-500 py-8"},ze={class:"bg-white rounded-lg shadow-md p-6 mb-8"},Se={class:"flex justify-between items-center mb-6"},Ae={class:"text-sm text-gray-600 mt-1"},Re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Te={class:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border border-blue-200"},Le={class:"text-2xl font-bold text-blue-900"},Ve={class:"text-xs text-blue-700 mt-1"},Ke={class:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-5 border border-purple-200"},De={class:"text-2xl font-bold text-purple-900"},He={class:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-5 border border-orange-200"},$e={class:"text-2xl font-bold text-orange-900"},Oe={class:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-5 border border-yellow-200"},Ne={class:"text-2xl font-bold text-yellow-900"},Ie={class:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg p-5 border border-indigo-200"},Fe={class:"text-2xl font-bold text-indigo-900"},We={class:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-5 border-2 border-blue-300 md:col-span-2"},Je={class:"text-3xl font-bold text-blue-900"},Ue={class:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-5 border border-gray-200 md:col-span-2"},qe={class:"grid grid-cols-3 gap-4"},Ee={class:"text-xl font-bold text-blue-700"},Qe={class:"text-xl font-bold text-red-700"},Ze={class:"text-xl font-bold text-gray-900"},Ge={class:"bg-white rounded-lg shadow-md p-6"},Xe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ye={class:"flex items-center justify-center min-h-screen px-4"},ta={class:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6"},ea={class:"flex justify-between items-center mb-4"},aa={class:"mb-4"},sa={class:"mb-4"},la={class:"mb-4"},oa={class:"flex gap-3"},na=["disabled"],ra={key:0},ia={key:1},xa={__name:"Dashboard",props:{stats:{type:Object,required:!0},pembayaran:{type:Object,required:!0},laporanKeuangan:{type:Object,required:!0},pelangganBelumBayar:{type:Array,default:()=>[]},distribusiRtRw:{type:Array,default:()=>[]},recentTransactions:{type:Array,default:()=>[]}},setup(l){const i=l,c=f(!1),h=f(!1),v=f(""),d=f({bulan:i.laporanKeuangan.bulan,biaya_operasional_penarik:i.laporanKeuangan.biayaOperasionalPenarik,biaya_pad_desa:i.laporanKeuangan.biayaPadDesa,wilayah:v.value||null}),A=()=>{const r=v.value?`/dashboard?wilayah=${encodeURIComponent(v.value)}`:"/dashboard";S.visit(r,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{d.value.wilayah=v.value||null,d.value.biaya_operasional_penarik=i.laporanKeuangan.biayaOperasionalPenarik,d.value.biaya_pad_desa=i.laporanKeuangan.biayaPadDesa}})},R=()=>{h.value=!0,S.post("/laporan/update-operasional",d.value,{onFinish:()=>{h.value=!1,c.value=!1}})},j=y(()=>i.stats.totalPelanggan===0?0:Math.round(i.stats.pelangganAktif/i.stats.totalPelanggan*100)),C=y(()=>i.stats.pelangganAktif===0?0:Math.round(i.pembayaran.sudahBayarCount/i.stats.pelangganAktif*100));y(()=>i.pembayaran.totalTagihan===0?0:Math.round(i.pembayaran.terbayar/i.pembayaran.totalTagihan*100));const T=y(()=>{const r=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];let s=new Date().getMonth()-1;return s<0&&(s=11),r[s]}),u=r=>!r&&r!==0?"0":new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:0}).format(r),L=r=>r?`https://wa.me/${String(r).replace(/[^0-9]/g,"").replace(/^0/,"62")}`:"#",V=r=>{if(!r)return"";const[e,s]=r.split("-");return`${["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][parseInt(s)-1]} ${e}`};return(r,e)=>(o(),K(H,null,{default:m(()=>[t("div",O,[t("div",N,[t("div",I,[t("div",F,[t("div",W,[t("h1",J," Dashboard "+a(r.$page.props.auth.user.role==="admin"?"Admin":"Penarik"),1),t("p",U,"Selamat datang, "+a(r.$page.props.auth.user.name),1),t("div",q,[g($)])]),r.$page.props.auth.user.role!=="penarik"?(o(),n("div",E,[e[9]||(e[9]=t("label",{class:"block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2"},"Filter Wilayah",-1)),w(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>v.value=s),onChange:A,class:"w-full sm:w-auto px-3 sm:px-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},[...e[8]||(e[8]=[t("option",{value:""},"Semua Wilayah",-1),t("option",{value:"Dawuhan"},"Dawuhan",-1),t("option",{value:"Kubangsari Kulon"},"Kubangsari Kulon",-1),t("option",{value:"Kubangsari Wetan"},"Kubangsari Wetan",-1),t("option",{value:"Sokarame"},"Sokarame",-1),t("option",{value:"Tiparjaya"},"Tiparjaya",-1)])],544),[[D,v.value]])])):b("",!0)])]),t("div",Q,[t("div",Z,[g(p(x),{href:"/qr-scanner",class:"group bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 active:scale-95 transition-all duration-200 p-4 sm:p-6 touch-manipulation"},{default:m(()=>[...e[10]||(e[10]=[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h3",{class:"text-base sm:text-lg font-bold mb-1"},"Pindai QR Code"),t("p",{class:"text-green-100 text-xs sm:text-sm"},"Scan QR untuk input meteran")]),t("div",{class:"bg-white/20 rounded-lg p-2 sm:p-3 group-hover:bg-white/30 transition-colors"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})])])],-1)])]),_:1}),g(p(x),{href:"/cek-pelanggan",class:"group bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 active:scale-95 transition-all duration-200 p-4 sm:p-6 touch-manipulation"},{default:m(()=>[...e[11]||(e[11]=[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h3",{class:"text-base sm:text-lg font-bold mb-1"},"Data Pelanggan"),t("p",{class:"text-blue-100 text-xs sm:text-sm"},"Kelola data pelanggan")]),t("div",{class:"bg-white/20 rounded-lg p-2 sm:p-3 group-hover:bg-white/30 transition-colors"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)])]),_:1}),g(p(x),{href:"/laporan",class:"group bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-1 active:scale-95 transition-all duration-200 p-4 sm:p-6 touch-manipulation"},{default:m(()=>[...e[12]||(e[12]=[t("div",{class:"flex items-center justify-between"},[t("div",null,[t("h3",{class:"text-base sm:text-lg font-bold mb-1"},"Laporan Keuangan"),t("p",{class:"text-purple-100 text-xs sm:text-sm"},"Lihat laporan keuangan")]),t("div",{class:"bg-white/20 rounded-lg p-2 sm:p-3 group-hover:bg-white/30 transition-colors"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)])]),_:1})])]),t("div",G,[t("div",X,[t("div",Y,[e[14]||(e[14]=t("div",{class:"p-2 sm:p-3 rounded-full bg-blue-100 text-blue-600"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),t("div",tt,[e[13]||(e[13]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Total Pelanggan",-1)),t("p",et,a(l.stats.totalPelanggan),1)])])]),t("div",at,[t("div",st,[e[16]||(e[16]=t("div",{class:"p-2 sm:p-3 rounded-full bg-blue-100 text-blue-600"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),t("div",lt,[e[15]||(e[15]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Pelanggan Aktif",-1)),t("p",ot,a(l.stats.pelangganAktif),1)])])]),t("div",nt,[t("div",rt,[e[18]||(e[18]=t("div",{class:"p-2 sm:p-3 rounded-full bg-red-100 text-red-600"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),t("div",it,[e[17]||(e[17]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Pelanggan Nonaktif",-1)),t("p",dt,a(l.stats.pelangganNonaktif),1)])])]),t("div",ut,[t("div",mt,[e[20]||(e[20]=t("div",{class:"p-2 sm:p-3 rounded-full bg-purple-100 text-purple-600"},[t("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})])],-1)),t("div",gt,[e[19]||(e[19]=t("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Cakupan Area",-1)),t("p",pt,a(l.stats.cakupanArea),1)])])])]),t("div",xt,[t("div",bt,[e[28]||(e[28]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Pembayaran Bulan Ini",-1)),t("div",ct,[t("div",vt,[e[21]||(e[21]=t("span",{class:"text-gray-600"},"Pembayaran Bulan Ini",-1)),t("span",ht,"Rp "+a(u(l.pembayaran.pembayaranBulanIni)),1)]),l.pembayaran.pembayaranTunggakan>0?(o(),n("div",ft,[t("span",yt,"Pembayaran Bulan "+a(T.value),1),t("span",wt,"Rp "+a(u(l.pembayaran.pembayaranTunggakan)),1)])):b("",!0),t("div",kt,[e[22]||(e[22]=t("span",{class:"text-gray-900 font-semibold"},"Total Terbayar",-1)),t("span",_t,"Rp "+a(u(l.pembayaran.terbayar)),1)]),t("div",Bt,[t("div",Mt,[e[23]||(e[23]=t("span",{class:"text-gray-600"},"Progress Pelanggan Bayar",-1)),t("span",jt,a(C.value)+"%",1)]),t("div",Ct,[t("div",{class:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:P({width:`${Math.min(C.value,100)}%`})},null,4)]),t("p",Pt,a(l.pembayaran.sudahBayarCount)+" dari "+a(l.stats.pelangganAktif)+" pelanggan aktif",1)]),t("div",zt,[t("div",St,[e[24]||(e[24]=t("p",{class:"text-sm text-gray-600 mb-1"},"Sudah Bayar",-1)),t("p",At,a(l.pembayaran.sudahBayarCount),1),e[25]||(e[25]=t("p",{class:"text-xs text-gray-500 mt-1"},"pelanggan",-1))]),t("div",Rt,[e[26]||(e[26]=t("p",{class:"text-sm text-gray-600 mb-1"},"Belum Bayar",-1)),t("p",Tt,a(l.pembayaran.belumBayarCount),1),e[27]||(e[27]=t("p",{class:"text-xs text-gray-500 mt-1"},"perlu ditagih",-1))])])])]),t("div",Lt,[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Status Pelanggan",-1)),t("div",Vt,[t("div",Kt,[(o(),n("svg",Dt,[e[29]||(e[29]=t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#e5e7eb","stroke-width":"10"},null,-1)),t("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#166534","stroke-width":"10","stroke-dasharray":`${j.value*2.51} 251`,"stroke-linecap":"round"},null,8,Ht)])),t("div",$t,[t("div",Ot,[t("p",Nt,a(j.value)+"%",1),e[30]||(e[30]=t("p",{class:"text-sm text-gray-600"},"Aktif",-1))])])])]),t("div",It,[t("div",Ft,[e[31]||(e[31]=t("div",{class:"flex items-center justify-center"},[t("div",{class:"w-3 h-3 bg-blue-800 rounded-full mr-2"}),t("span",{class:"text-sm text-gray-600"},"Aktif")],-1)),t("p",Wt,a(l.stats.pelangganAktif),1)]),t("div",Jt,[e[32]||(e[32]=t("div",{class:"flex items-center justify-center"},[t("div",{class:"w-3 h-3 bg-gray-300 rounded-full mr-2"}),t("span",{class:"text-sm text-gray-600"},"Nonaktif")],-1)),t("p",Ut,a(l.stats.pelangganNonaktif),1)])])])]),t("div",qt,[t("div",Et,[e[35]||(e[35]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Transaksi Pembayaran Terakhir",-1)),g(p(x),{href:"/laporan",class:"text-sm text-blue-700 font-medium hover:text-blue-800 inline-block active:scale-95 transition-transform"},{default:m(()=>[...e[34]||(e[34]=[k("Lihat Semua Laporan →",-1)])]),_:1})]),t("div",Qt,[t("table",Zt,[e[37]||(e[37]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Waktu"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pelanggan"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Pembayaran Untuk"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Jumlah")])],-1)),t("tbody",Gt,[(o(!0),n(_,null,B(l.recentTransactions,s=>(o(),n("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors"},[t("td",Xt,a(s.waktu_transaksi),1),t("td",Yt,[t("div",te,a(s.pelanggan_nama),1),t("div",ee,a(s.pelanggan_id)+" • "+a(s.wilayah),1)]),t("td",ae," Tagihan "+a(s.bulan_bayar_text),1),t("td",se,[s.is_tunggakan?(o(),n("span",le," Bayar Tunggakan ")):(o(),n("span",oe," Tagihan Rutin "))]),t("td",ne,a(u(s.jumlah_bayar)),1)]))),128)),l.recentTransactions.length===0?(o(),n("tr",re,[...e[36]||(e[36]=[t("td",{colspan:"5",class:"px-6 py-4 text-center text-gray-500"}," Belum ada transaksi bulan ini. ",-1)])])):b("",!0)])])])]),t("div",ie,[t("div",de,[t("div",ue,[e[38]||(e[38]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Pelanggan Belum Bayar",-1)),t("span",me,a(l.pembayaran.belumBayarCount),1)]),t("div",ge,[(o(!0),n(_,null,B(l.pelangganBelumBayar,s=>(o(),n("div",{key:s.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[t("div",pe,[t("p",xe,a(s.nama_pelanggan),1),t("p",be,a(s.id_pelanggan)+" • RT "+a(s.rt)+"/RW "+a(s.rw),1)]),t("div",ce,[s.no_whatsapp?(o(),n("a",{key:0,href:L(s.no_whatsapp),target:"_blank",class:"p-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 active:scale-90 transition-all duration-200",title:"Chat WhatsApp"},[...e[39]||(e[39]=[t("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})],-1)])],8,ve)):b("",!0),g(p(x),{href:`/pelanggan/${s.id}/edit`,class:"p-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200 active:scale-90 transition-all duration-200",title:"Edit"},{default:m(()=>[...e[40]||(e[40]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"])])]))),128)),l.pelangganBelumBayar.length===0?(o(),n("div",he,[...e[41]||(e[41]=[t("svg",{class:"w-16 h-16 mx-auto mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t("p",{class:"font-semibold"},"Semua sudah bayar!",-1),t("p",{class:"text-sm"},"Tidak ada tunggakan bulan ini",-1)])])):b("",!0),l.pembayaran.belumBayarCount>10?(o(),n("div",fe,[g(p(x),{href:"/cek-pelanggan",class:"text-blue-800 hover:text-blue-900 font-semibold text-sm inline-block active:scale-95 transition-transform"},{default:m(()=>[k(" Lihat semua ("+a(l.pembayaran.belumBayarCount)+") → ",1)]),_:1})])):b("",!0)])]),t("div",ye,[e[42]||(e[42]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Distribusi per RT/RW",-1)),t("div",we,[(o(!0),n(_,null,B(l.distribusiRtRw,s=>(o(),n("div",{key:s.rt_rw,class:"flex items-center"},[t("div",ke,[t("span",_e,a(s.rt_rw),1)]),t("div",Be,[t("div",Me,[t("div",{class:"bg-blue-800 h-4 rounded-full transition-all duration-300",style:P({width:`${s.jumlah/l.stats.totalPelanggan*100}%`})},null,4)])]),t("div",je,[t("span",Ce,a(s.jumlah),1)])]))),128)),l.distribusiRtRw.length===0?(o(),n("div",Pe," Belum ada data distribusi ")):b("",!0)])])]),t("div",ze,[t("div",Se,[t("div",null,[e[43]||(e[43]=t("h3",{class:"text-xl font-semibold text-gray-900"},"Laporan Keuangan Bulanan",-1)),t("p",Ae,"Periode: "+a(V(l.laporanKeuangan.bulan)),1)]),t("button",{onClick:e[1]||(e[1]=s=>c.value=!0),class:"px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900 active:scale-95 transition-all duration-200 flex items-center gap-2"},[...e[44]||(e[44]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),k(" Update Biaya Operasional ",-1)])])]),t("div",Re,[t("div",Te,[e[45]||(e[45]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-sm font-medium text-blue-900"},"Total Tarikan"),t("svg",{class:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z","clip-rule":"evenodd"})])],-1)),t("p",Le,"Rp "+a(u(l.laporanKeuangan.totalTarikan)),1),t("p",Ve,"Dari "+a(l.laporanKeuangan.totalSRSudahBayar)+" pelanggan",1)]),t("div",Ke,[e[46]||(e[46]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-sm font-medium text-purple-900"},"20% Tarikan"),t("svg",{class:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),t("p",De,"Rp "+a(u(l.laporanKeuangan.tarik20Persen)),1),e[47]||(e[47]=t("p",{class:"text-xs text-purple-700 mt-1"},"Jasa penarik",-1))]),t("div",He,[e[48]||(e[48]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-sm font-medium text-orange-900"},"Biaya Operasional"),t("svg",{class:"w-5 h-5 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),t("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"})])],-1)),t("p",$e,"Rp "+a(u(l.laporanKeuangan.biayaOperasionalPenarik)),1),e[49]||(e[49]=t("p",{class:"text-xs text-orange-700 mt-1"},"BBM, dll.",-1))]),t("div",Oe,[e[50]||(e[50]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-sm font-medium text-yellow-900"},"Biaya PAD Desa"),t("svg",{class:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})])],-1)),t("p",Ne,"Rp "+a(u(l.laporanKeuangan.biayaPadDesa)),1),e[51]||(e[51]=t("p",{class:"text-xs text-yellow-700 mt-1"},"Pendapatan Asli Desa",-1))]),t("div",Ie,[e[52]||(e[52]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-sm font-medium text-indigo-900"},"Total Honor Penarik"),t("svg",{class:"w-5 h-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"})])],-1)),t("p",Fe,"Rp "+a(u(l.laporanKeuangan.honorPenarik)),1),e[53]||(e[53]=t("p",{class:"text-xs text-indigo-700 mt-1"},"20% + Operasional",-1))]),t("div",We,[e[54]||(e[54]=t("div",{class:"flex items-center justify-between mb-2"},[t("h4",{class:"text-base font-semibold text-blue-900"},"Total Tarikan Bersih"),t("svg",{class:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})])],-1)),t("p",Je,"Rp "+a(u(l.laporanKeuangan.totalTarikanBersih)),1),e[55]||(e[55]=t("p",{class:"text-sm text-blue-700 mt-1"},"Sisa untuk kas & operasional KP-SPAMS",-1))]),t("div",Ue,[e[59]||(e[59]=t("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Sambungan Rumah (SR)",-1)),t("div",qe,[t("div",null,[e[56]||(e[56]=t("p",{class:"text-xs text-gray-600"},"Sudah Bayar",-1)),t("p",Ee,a(l.laporanKeuangan.totalSRSudahBayar),1)]),t("div",null,[e[57]||(e[57]=t("p",{class:"text-xs text-gray-600"},"Belum Bayar",-1)),t("p",Qe,a(l.laporanKeuangan.totalSRBelumBayar),1)]),t("div",null,[e[58]||(e[58]=t("p",{class:"text-xs text-gray-600"},"Total SR Aktif",-1)),t("p",Ze,a(l.laporanKeuangan.totalSR),1)])])])])]),t("div",Ge,[e[63]||(e[63]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Menu Cepat",-1)),t("div",Xe,[g(p(x),{href:"/cek-pelanggan",class:"flex items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg hover:shadow-md hover:-translate-y-0.5 active:scale-95 transition-all duration-200"},{default:m(()=>[...e[60]||(e[60]=[t("div",{class:"p-3 bg-blue-800 rounded-lg text-white"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1),t("div",{class:"ml-4"},[t("p",{class:"font-semibold text-gray-900"},"Data Pelanggan"),t("p",{class:"text-sm text-gray-600"},"Lihat & kelola data pelanggan")],-1)])]),_:1}),g(p(x),{href:"/peta",class:"flex items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg hover:shadow-md hover:-translate-y-0.5 active:scale-95 transition-all duration-200"},{default:m(()=>[...e[61]||(e[61]=[t("div",{class:"p-3 bg-blue-600 rounded-lg text-white"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})])],-1),t("div",{class:"ml-4"},[t("p",{class:"font-semibold text-gray-900"},"Peta Pelanggan"),t("p",{class:"text-sm text-gray-600"},"Lihat lokasi pelanggan di peta")],-1)])]),_:1}),g(p(x),{href:"/",class:"flex items-center p-4 bg-purple-50 hover:bg-purple-100 rounded-lg hover:shadow-md hover:-translate-y-0.5 active:scale-95 transition-all duration-200"},{default:m(()=>[...e[62]||(e[62]=[t("div",{class:"p-3 bg-purple-600 rounded-lg text-white"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),t("div",{class:"ml-4"},[t("p",{class:"font-semibold text-gray-900"},"Info KP-SPAMS"),t("p",{class:"text-sm text-gray-600"},"Informasi & layanan")],-1)])]),_:1})])])])]),c.value?(o(),n("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:e[7]||(e[7]=z(s=>c.value=!1,["self"]))},[t("div",Ye,[e[71]||(e[71]=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),t("div",ta,[t("div",ea,[e[65]||(e[65]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Update Biaya Operasional Penarik",-1)),t("button",{onClick:e[2]||(e[2]=s=>c.value=!1),class:"text-gray-400 hover:text-gray-600"},[...e[64]||(e[64]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("form",{onSubmit:z(R,["prevent"])},[t("div",aa,[e[66]||(e[66]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Bulan",-1)),w(t("input",{type:"month","onUpdate:modelValue":e[3]||(e[3]=s=>d.value.bulan=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",required:""},null,512),[[M,d.value.bulan]])]),t("div",sa,[e[67]||(e[67]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Biaya Operasional (Rp)",-1)),w(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=s=>d.value.biaya_operasional_penarik=s),step:"1000",min:"0",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent",required:""},null,512),[[M,d.value.biaya_operasional_penarik]]),e[68]||(e[68]=t("p",{class:"text-xs text-gray-500 mt-1"},"BBM, maintenance, dll.",-1))]),t("div",la,[e[69]||(e[69]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Biaya PAD Desa (Rp)",-1)),w(t("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=s=>d.value.biaya_pad_desa=s),step:"1000",min:"0",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},null,512),[[M,d.value.biaya_pad_desa]]),e[70]||(e[70]=t("p",{class:"text-xs text-gray-500 mt-1"},"Pendapatan Asli Desa",-1))]),t("div",oa,[t("button",{type:"submit",disabled:h.value,class:"flex-1 px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-900 active:scale-95 transition-all duration-200 disabled:opacity-50"},[h.value?(o(),n("span",ra,"Menyimpan...")):(o(),n("span",ia,"Simpan"))],8,na),t("button",{type:"button",onClick:e[6]||(e[6]=s=>c.value=!1),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 active:scale-95 transition-all duration-200"}," Batal ")])],32)])])])):b("",!0)]),_:1}))}};export{xa as default};
