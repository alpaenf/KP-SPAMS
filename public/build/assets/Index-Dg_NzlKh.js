import{A as I,m as p,u as M,B as q,p as R,c as S,w as k,a as s,i as N,z as V,e as i,f as m,o,n as U,t as f,b as j,d,g as a,h as _,v as g}from"./app-CEWNvxhU.js";import{_ as Q}from"./AppLayout-DqnpE2Lk.js";/* empty css            */const A={class:"max-w-4xl mx-auto py-8 px-4"},z={key:0,class:"fixed top-4 right-4 z-50 max-w-sm"},T={key:0,class:"w-6 h-6 text-blue-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},D={key:1,class:"w-6 h-6 text-red-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},E={class:"flex-1"},F={class:"font-semibold"},G={class:"text-sm"},$={class:"bg-white rounded-lg shadow-md p-6"},L={class:"border-b pb-6"},H={class:"mb-4"},J={class:"flex items-center"},K={key:0,class:"space-y-4"},O={key:0,class:"mb-4"},W=["src"],X={key:1,class:"mb-4"},Y=["src"],Z={class:"border-b pb-6"},ee={class:"mb-4"},se={class:"flex items-center"},te={key:0,class:"space-y-4"},ae={class:"flex justify-end space-x-4"},ne=["disabled"],ie={__name:"Index",props:{settings:Object},setup(w){const r=w;I();const c=p(!1),x=p(""),b=p("success"),t=M({bank_name:r.settings.bank_name||"",account_number:r.settings.account_number||"",account_name:r.settings.account_name||"",payment_instructions:r.settings.payment_instructions||"",qris_enabled:r.settings.qris_enabled||!1,bank_transfer_enabled:r.settings.bank_transfer_enabled||!1,qris_image:null});q(()=>r.settings,l=>{t.bank_name=l.bank_name||"",t.account_number=l.account_number||"",t.account_name=l.account_name||"",t.payment_instructions=l.payment_instructions||"",t.qris_enabled=l.qris_enabled||!1,t.bank_transfer_enabled=l.bank_transfer_enabled||!1},{deep:!0});const u=p(null),y=R(()=>r.settings.qris_image?`/storage/${r.settings.qris_image}`:null),h=l=>{const e=l.target.files[0];if(e){t.qris_image=e;const n=new FileReader;n.onload=B=>{u.value=B.target.result},n.readAsDataURL(e)}},P=()=>{t.qris_image=null,u.value=null},v=(l,e="success")=>{x.value=l,b.value=e,c.value=!0,setTimeout(()=>{c.value=!1},3e3)},C=()=>{t.post(route("admin.payment-settings.update"),{preserveScroll:!0,onSuccess:l=>{u.value=null,t.clearErrors(),t.qris_image=null,v("Pengaturan pembayaran berhasil disimpan!","success")},onError:()=>{v("Gagal menyimpan pengaturan. Silakan coba lagi.","error")}})};return(l,e)=>(o(),S(Q,{title:"Pengaturan Pembayaran"},{default:k(()=>[s("div",A,[N(V,{"enter-active-class":"transform transition ease-out duration-300","enter-from-class":"translate-y-2 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:k(()=>[c.value?(o(),i("div",z,[s("div",{class:U([{"bg-blue-50 border-blue-500 text-blue-800":b.value==="success","bg-red-50 border-red-500 text-red-800":b.value==="error"},"border-l-4 p-4 rounded-lg shadow-lg flex items-start gap-3"])},[b.value==="success"?(o(),i("svg",T,[...e[7]||(e[7]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):(o(),i("svg",D,[...e[8]||(e[8]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])),s("div",E,[s("p",F,f(b.value==="success"?"Berhasil!":"Error!"),1),s("p",G,f(x.value),1)]),s("button",{onClick:e[0]||(e[0]=n=>c.value=!1),class:"text-gray-400 hover:text-gray-600"},[...e[9]||(e[9]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])],2)])):m("",!0)]),_:1}),s("div",$,[e[22]||(e[22]=s("h1",{class:"text-2xl font-bold text-gray-800 mb-6"},"Pengaturan Pembayaran",-1)),s("form",{onSubmit:j(C,["prevent"]),class:"space-y-6"},[s("div",L,[e[15]||(e[15]=s("h2",{class:"text-xl font-semibold text-gray-700 mb-4"},"Pembayaran QRIS",-1)),s("div",H,[s("label",J,[d(s("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=n=>a(t).qris_enabled=n),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[_,a(t).qris_enabled]]),e[10]||(e[10]=s("span",{class:"ml-2 text-gray-700"},"Aktifkan pembayaran QRIS",-1))])]),a(t).qris_enabled?(o(),i("div",K,[s("div",null,[e[13]||(e[13]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Upload QRIS ",-1)),y.value&&!u.value?(o(),i("div",O,[e[11]||(e[11]=s("p",{class:"text-sm text-gray-600 mb-2"},"QRIS Saat Ini:",-1)),s("img",{src:y.value,alt:"Current QRIS",class:"max-w-xs border rounded"},null,8,W)])):m("",!0),u.value?(o(),i("div",X,[e[12]||(e[12]=s("p",{class:"text-sm text-gray-600 mb-2"},"Preview QRIS Baru:",-1)),s("img",{src:u.value,alt:"Preview",class:"max-w-xs border rounded"},null,8,Y),s("button",{type:"button",onClick:P,class:"mt-2 text-sm text-red-600 hover:text-red-800"}," Hapus gambar ")])):m("",!0),s("input",{type:"file",onChange:h,accept:"image/jpeg,image/png,image/jpg",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),e[14]||(e[14]=s("p",{class:"mt-1 text-sm text-gray-500"}," Format: JPG, PNG (Max: 2MB) ",-1))])])):m("",!0)]),s("div",Z,[e[20]||(e[20]=s("h2",{class:"text-xl font-semibold text-gray-700 mb-4"},"Pembayaran Transfer Bank",-1)),s("div",ee,[s("label",se,[d(s("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=n=>a(t).bank_transfer_enabled=n),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[_,a(t).bank_transfer_enabled]]),e[16]||(e[16]=s("span",{class:"ml-2 text-gray-700"},"Aktifkan pembayaran transfer bank",-1))])]),a(t).bank_transfer_enabled?(o(),i("div",te,[s("div",null,[e[17]||(e[17]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nama Bank ",-1)),d(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=n=>a(t).bank_name=n),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contoh: BRI"},null,512),[[g,a(t).bank_name]])]),s("div",null,[e[18]||(e[18]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Nomor Rekening ",-1)),d(s("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=n=>a(t).account_number=n),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contoh: 1234-5678-9012"},null,512),[[g,a(t).account_number]])]),s("div",null,[e[19]||(e[19]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Atas Nama ",-1)),d(s("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=n=>a(t).account_name=n),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contoh: KP-SPAMS Desa"},null,512),[[g,a(t).account_name]])])])):m("",!0)]),s("div",null,[e[21]||(e[21]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Instruksi Pembayaran ",-1)),d(s("textarea",{"onUpdate:modelValue":e[6]||(e[6]=n=>a(t).payment_instructions=n),rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Masukkan instruksi pembayaran untuk pelanggan"},null,512),[[g,a(t).payment_instructions]])]),s("div",ae,[s("button",{type:"submit",disabled:a(t).processing,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},f(a(t).processing?"Menyimpan...":"Simpan Pengaturan"),9,ne)])],32)])])]),_:1}))}};export{ie as default};
