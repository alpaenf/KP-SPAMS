import{m as v,p as U,B as he,c as W,w as C,a as e,e as n,f as u,d as b,i as Q,g as $,l as L,o as l,j as d,t as o,n as ae,v as f,y as A,F as E,r as J,C as se,b as ye,h as fe,D,k as ke}from"./app-Bw5lmHtu.js";import{_ as we}from"./AppLayout-Ci3LqtW0.js";/* empty css            */const _e={class:"py-12"},Me={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ce={class:"mb-6"},je={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4"},Be={class:"hidden lg:flex gap-2 xl:gap-3"},ze={class:"lg:hidden relative"},Se={key:0,class:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl z-50 border border-gray-200"},Ve={class:"py-2"},Pe={key:0,class:"mb-6 bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-lg"},$e={class:"bg-white rounded-lg shadow-md mb-6"},Le={class:"border-b border-gray-200"},De={class:"flex -mb-px"},Te={class:"bg-white rounded-lg shadow-md p-4 sm:p-6 mb-6"},Ae={class:"space-y-3"},He={class:"w-full"},Re={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},Ie=["value"],Ne={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},Ke={class:"bg-white rounded-lg shadow-md p-4"},Fe={class:"flex items-center"},Ue={class:"ml-3 sm:ml-4"},We={class:"text-xl sm:text-2xl font-bold text-gray-900"},Ee={class:"bg-white rounded-lg shadow-md p-6"},Je={class:"flex items-center"},Oe={class:"ml-4"},qe={class:"text-2xl font-bold text-gray-900"},Ge={class:"bg-white rounded-lg shadow-md p-6"},Qe={class:"flex items-center"},Ye={class:"ml-4"},Xe={class:"text-2xl font-bold text-gray-900"},Ze={class:"bg-white rounded-lg shadow-md overflow-hidden"},et={class:"overflow-x-auto"},tt={class:"min-w-full divide-y divide-gray-200"},at={class:"bg-blue-800"},st={key:0,class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},lt={class:"bg-white divide-y divide-gray-200"},nt={key:0},rt=["colspan"],ot={class:"px-6 py-4 whitespace-nowrap"},it={class:"text-sm font-medium text-gray-900"},ut={class:"px-6 py-4 whitespace-nowrap"},dt={class:"text-sm font-medium text-gray-900"},pt={class:"px-6 py-4 whitespace-nowrap"},mt=["href"],xt={key:1,class:"text-sm text-gray-400"},gt={class:"px-6 py-4 whitespace-nowrap"},bt={class:"text-sm text-gray-900"},vt={class:"px-6 py-4 whitespace-nowrap"},ct={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},ht={class:"px-6 py-4 whitespace-nowrap"},yt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},ft={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},kt={class:"px-6 py-4 whitespace-nowrap"},wt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},_t={key:1,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800"},Mt={class:"px-6 py-4 whitespace-nowrap"},Ct={key:0,class:"flex flex-col"},jt={class:"text-xs text-purple-600 font-medium"},Bt={key:1,class:"flex flex-col"},zt={class:"text-xs text-gray-500"},St={key:2,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},Vt={class:"px-6 py-4 whitespace-nowrap text-sm"},Pt={key:1,class:"text-gray-400 text-xs"},$t={class:"px-6 py-4 whitespace-nowrap text-sm"},Lt=["href"],Dt=["href"],Tt={key:2,class:"text-gray-400 text-xs"},At={key:0,class:"px-6 py-4 whitespace-nowrap text-sm"},Ht={class:"flex gap-2 items-center"},Rt=["href"],It=["onClick"],Nt=["onClick"],Kt={class:"flex items-center justify-center min-h-screen px-4 py-6"},Ft={class:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col"},Ut={class:"bg-blue-800 text-white px-4 sm:px-6 py-3 sm:py-4 rounded-t-lg flex justify-between items-center flex-shrink-0"},Wt={class:"text-lg sm:text-xl font-bold"},Et={class:"p-4 sm:p-6 overflow-y-auto flex-1"},Jt={class:"mb-6 bg-gray-50 rounded-lg p-3 sm:p-4"},Ot={key:0,class:"mb-4 bg-yellow-50 border border-yellow-300 rounded-lg p-3"},qt={class:"flex items-start"},Gt={class:"text-sm text-yellow-700"},Qt={key:1,class:"mb-4 bg-purple-50 border border-purple-200 rounded-lg p-3"},Yt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6"},Xt={class:"col-span-1"},Zt={class:"relative rounded-md shadow-sm"},ea={key:0,class:"mt-1 text-xs text-red-600"},ta={class:"col-span-1"},aa={class:"relative rounded-md shadow-sm"},sa={key:0,class:"mt-1 text-xs text-red-600"},la={key:0,class:"col-span-1 sm:col-span-2 bg-yellow-50 border border-yellow-300 rounded-lg p-3"},na={class:"col-span-1 space-y-2"},ra={key:0,class:"mt-1 text-xs text-red-600"},oa={class:"col-span-1 space-y-2"},ia={key:0,class:"mt-1 text-xs text-red-600"},ua={key:0,class:"text-red-600 text-sm mt-1"},da={key:1,class:"text-xs text-purple-600 mt-1 font-medium"},pa={key:2,class:"text-xs text-gray-500 mt-1"},ma={class:"flex items-center space-x-3 cursor-pointer"},xa={key:0,class:"text-red-600 text-sm mt-1"},ga={key:0,class:"text-red-600 text-sm mt-1"},ba=["disabled"],va={key:0,class:"text-center py-8"},ca={key:1,class:"text-center py-8"},ha={key:2,class:"overflow-x-auto -mx-3 sm:mx-0"},ya={class:"min-w-full divide-y divide-gray-200 text-sm"},fa={class:"bg-white divide-y divide-gray-200"},ka={class:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm"},wa={class:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm"},_a={class:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-gray-600 hidden sm:table-cell"},Ma={class:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-gray-600 hidden sm:table-cell"},Ca={class:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-gray-600"},ja={class:"px-2 sm:px-4 py-2 sm:py-3 text-center hidden lg:table-cell"},Ba={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},za={key:1,class:"text-gray-400 text-xs sm:text-sm"},Sa={class:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm font-medium"},Va={class:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm text-gray-600 hidden md:table-cell"},Pa={class:"px-2 sm:px-4 py-2 sm:py-3 text-xs sm:text-sm"},$a={class:"flex gap-1 sm:gap-2 justify-center"},La=["onClick"],Da=["onClick"],Ta=["onClick"],Aa=["onClick"],Ha={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},Ra={class:"bg-white rounded-lg shadow-md p-6"},Ia={class:"flex items-center"},Na={class:"ml-4"},Ka={class:"text-2xl font-bold text-gray-900"},Fa={class:"bg-white rounded-lg shadow-md p-6"},Ua={class:"flex items-center"},Wa={class:"ml-4"},Ea={class:"text-2xl font-bold text-gray-900"},Ja={class:"bg-white rounded-lg shadow-md p-6"},Oa={class:"flex items-center"},qa={class:"ml-4"},Ga={class:"text-2xl font-bold text-gray-900"},Qa={class:"bg-white rounded-lg shadow-md p-6 mb-6"},Ya={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Xa={class:"md:col-span-2"},Za={key:0},es={class:"bg-white rounded-lg shadow-md overflow-hidden"},ts={class:"overflow-x-auto"},as={class:"min-w-full divide-y divide-gray-200"},ss={class:"bg-white divide-y divide-gray-200"},ls={key:0},ns={class:"px-6 py-4 whitespace-nowrap"},rs={class:"text-sm text-gray-900"},os={class:"px-6 py-4 whitespace-nowrap"},is={class:"text-sm font-medium text-gray-900"},us={class:"px-6 py-4"},ds={class:"text-sm font-medium text-gray-900"},ps={key:0,class:"text-xs text-purple-600 font-medium"},ms={class:"px-6 py-4 whitespace-nowrap"},xs={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800"},gs={class:"px-6 py-4 whitespace-nowrap text-center"},bs={class:"text-sm text-gray-900"},vs={key:0,class:"text-xs text-blue-600"},cs={class:"px-6 py-4 whitespace-nowrap text-right"},hs={class:"text-sm font-semibold text-gray-900"},ys={key:0,class:"text-xs text-orange-600"},Ms={__name:"CekPelanggan",props:{pelangganList:{type:Array,default:()=>[]},pembayaranList:{type:Array,default:()=>[]},bulanIni:{type:String,default:""},bulanFilter:{type:String,default:""},stats:{type:Object,default:()=>({totalPembayaran:0,totalPemasukan:0,rataRata:0})}},setup(H){const k=H,m=v(k.pelangganList||[]),j=v(""),B=v("all"),z=v("all"),S=v("all"),M=v(!1),V=v("pelanggan"),R=v(""),I=v("all"),O=v(!1),g=v(null),h=v([]),q=v(!1),N=v(!1),r=v({bulan_bayar:k.bulanIni||"",tanggal_bayar:new Date().toISOString().split("T")[0],meteran_sebelum:null,meteran_sesudah:null,abunemen:!1,tunggakan:0,jumlah_kubik:null,jumlah_bayar:null,keterangan:""}),w=()=>{const s=parseFloat(r.value.meteran_sebelum)||0,a=(parseFloat(r.value.meteran_sesudah)||0)-s;if(r.value.jumlah_kubik=a>=0?a:0,r.value.jumlah_kubik>0||r.value.abunemen||r.value.tunggakan>0)if(g.value?.kategori==="sosial")r.value.jumlah_bayar=0;else{const i=Math.round(r.value.jumlah_kubik*2e3),c=r.value.abunemen?3e3:0,p=parseFloat(r.value.tunggakan)||0;r.value.jumlah_bayar=i+c+p}else r.value.jumlah_bayar=0},x=v({}),le=U(()=>m.value.filter(s=>s.status_aktif).length),ne=U(()=>{const s=[],t=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],a=new Date;for(let i=0;i<12;i++){const c=new Date(a.getFullYear(),a.getMonth()-i,1),p=c.getFullYear(),_=c.getMonth(),P=`${p}-${String(_+1).padStart(2,"0")}`,K=`${t[_]} ${p}`;s.push({value:P,label:K})}return s}),G=U(()=>{let s=m.value;if(B.value==="aktif"?s=s.filter(t=>t.status_aktif):B.value==="nonaktif"&&(s=s.filter(t=>!t.status_aktif)),S.value!=="all"&&(s=s.filter(t=>t.wilayah===S.value)),j.value){const t=j.value.toLowerCase();s=s.filter(a=>a.id_pelanggan.toLowerCase().includes(t)||a.nama_pelanggan.toLowerCase().includes(t)||a.rt&&a.rt.toString().includes(t)||a.rw&&a.rw.toString().includes(t))}return s}),T=s=>{const t=z.value!=="all"?z.value:k.bulanIni,a=s.bulan_dibayar&&s.bulan_dibayar.includes(t),i=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],[c,p]=t.split("-"),_=`${i[parseInt(p)-1]} ${c}`;return{sudah_bayar:a,bulan:_}},Y=U(()=>{let s=k.pembayaranList||[];if(R.value){const t=R.value.toLowerCase();s=s.filter(a=>a.id_pelanggan.toLowerCase().includes(t)||a.nama_pelanggan.toLowerCase().includes(t))}return I.value!=="all"&&(s=s.filter(t=>t.wilayah===I.value)),s}),re=s=>new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),oe=async s=>{g.value=s,O.value=!0,q.value=!0,x.value={};const t=new Date,a=k.bulanIni||t.toISOString().slice(0,7),i=t.toISOString().split("T")[0];try{const c=await D.get(`/pelanggan/${s.id}/pembayaran`);h.value=c.data.pembayarans;const p=t.getFullYear(),_=t.getMonth()+1;let P=a;for(let y=1;y<=_;y++){const F=`${p}-${String(y).padStart(2,"0")}`;if(!h.value.some(ce=>ce.bulan_bayar===F)){P=F;break}}r.value={bulan_bayar:P,tanggal_bayar:i,meteran_sebelum:0,meteran_sesudah:0,abunemen:!1,tunggakan:0,jumlah_kubik:0,jumlah_bayar:0,keterangan:""},await X(P);const K=h.value.filter(y=>y.bulan_bayar<P&&(y.keterangan==="Nunggak"||y.keterangan==="Kurang bayar"||y.keterangan==="Terlambat")).reduce((y,F)=>y+parseFloat(F.jumlah_bayar||0),0);K>0&&(r.value.tunggakan=K,w())}catch(c){console.error("Error loading data:",c)}finally{q.value=!1}},ie=s=>{if(!s)return null;let[t,a]=s.split("-").map(Number);return a=a-1,a===0&&(t-=1,a=12),`${t}-${String(a).padStart(2,"0")}`},X=async s=>{if(g.value)try{let t;try{t=await D.get(`/api/tagihan-bulanan/${g.value.id}/${s}`)}catch(i){if(i.response&&i.response.status===404)t={data:{tagihan:null}};else throw i}if(t.data&&t.data.tagihan){const i=t.data.tagihan;r.value.meteran_sebelum=i.meteran_sebelum,r.value.meteran_sesudah=i.meteran_sesudah,r.value.jumlah_kubik=i.pemakaian_kubik,i.ada_abunemen&&(r.value.abunemen=!0),w();return}const a=ie(s);if(a){let i=!1,c=0;try{const p=await D.get(`/api/tagihan-bulanan/${g.value.id}/${a}`);p.data&&p.data.tagihan&&p.data.tagihan.meteran_sesudah>0&&(c=p.data.tagihan.meteran_sesudah,i=!0)}catch(p){p.response&&p.response.status!==404&&console.error("Error fetching prev tagihan:",p)}if(!i){const p=h.value.find(_=>_.bulan_bayar===a);p&&p.meteran_sesudah>0&&(c=p.meteran_sesudah,i=!0)}if(i){r.value.meteran_sebelum=c,r.value.meteran_sesudah=0,r.value.jumlah_kubik=0,w();return}}r.value.meteran_sebelum=0,r.value.meteran_sesudah=0,r.value.jumlah_kubik=0,w()}catch(t){console.error("Error fetching meteran data:",t)}};he(()=>r.value.bulan_bayar,s=>{s&&g.value&&X(s)});const Z=()=>{O.value=!1,g.value=null,h.value=[],x.value={}},ue=async()=>{if(g.value){x.value={},N.value=!0;try{const s=await D.post(`/pelanggan/${g.value.id}/pembayaran`,r.value);h.value.unshift(s.data.pembayaran);const t=m.value.findIndex(a=>a.id===g.value.id);if(t!==-1&&(m.value[t].bulan_dibayar||(m.value[t].bulan_dibayar=[]),m.value[t].bulan_dibayar.includes(s.data.pembayaran.bulan_bayar)||m.value[t].bulan_dibayar.push(s.data.pembayaran.bulan_bayar),s.data.pembayaran.bulan_bayar===k.bulanIni)){m.value[t].sudah_bayar=!0;const a=new Date(s.data.pembayaran.tanggal_bayar);m.value[t].tanggal_bayar=a.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),m.value[t].jumlah_bayar=s.data.pembayaran.jumlah_bayar}r.value={bulan_bayar:k.bulanIni||"",tanggal_bayar:new Date().toISOString().split("T")[0],meteran_sebelum:null,meteran_sesudah:null,abunemen:!1,tunggakan:0,jumlah_kubik:null,jumlah_bayar:null,keterangan:""},alert("Pembayaran berhasil ditambahkan!")}catch(s){s.response?.status===422?s.response.data.errors?x.value=s.response.data.errors:s.response.data.message&&alert(s.response.data.message):alert("Terjadi kesalahan saat menyimpan pembayaran")}finally{N.value=!1}}},de=async s=>{if(confirm("Apakah Anda yakin ingin menghapus pembayaran ini?"))try{const t=h.value.find(a=>a.id===s);if(await D.delete(`/pembayaran/${s}`),h.value=h.value.filter(a=>a.id!==s),t){const a=m.value.findIndex(i=>i.id===g.value.id);a!==-1&&(m.value[a].bulan_dibayar&&(m.value[a].bulan_dibayar=m.value[a].bulan_dibayar.filter(i=>i!==t.bulan_bayar)),t.bulan_bayar===k.bulanIni&&(m.value[a].sudah_bayar=!1,m.value[a].tanggal_bayar=null,m.value[a].jumlah_bayar=null))}alert("Pembayaran berhasil dihapus")}catch{alert("Terjadi kesalahan saat menghapus pembayaran")}},pe=async s=>{try{const t=await D.post(`/pembayaran/${s}/send-receipt`);t.data.wa_link&&(window.open(t.data.wa_link,"_blank"),alert(`Struk berhasil digenerate!

Pelanggan: ${t.data.pelanggan_nama}
No. WhatsApp: ${t.data.no_whatsapp}

Jendela WhatsApp akan terbuka. Silakan kirim pesan dengan struk pembayaran.`))}catch(t){t.response?.status===422?alert(t.response.data.message||"Nomor WhatsApp pelanggan tidak tersedia"):t.response?.status===404?alert(t.response.data.message||"Data pelanggan tidak ditemukan"):(console.error("Error sending receipt:",t),alert("Terjadi kesalahan saat mengirim struk. Silakan coba lagi."))}},me=s=>{window.open(`/pembayaran/${s}/download-pdf`,"_blank")},xe=s=>{window.open(`/pembayaran/${s}/print`,"_blank")},ee=()=>{const s=new URLSearchParams({search:j.value,status:B.value,bulan:z.value,wilayah:S.value});window.location.href=`/cek-pelanggan/export-excel?${s.toString()}`},te=()=>{const s=new URLSearchParams({search:j.value,status:B.value,bulan:z.value,wilayah:S.value});window.location.href=`/cek-pelanggan/export-pdf?${s.toString()}`},ge=s=>{if(!s)return"-";const[t,a]=s.split("-");return`${["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][parseInt(a)-1]} ${t}`},be=s=>s?new Date(s).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",ve=s=>{confirm(`Apakah Anda yakin ingin menghapus pelanggan ${s.nama_pelanggan}?`)&&ke.delete(`/pelanggan/${s.id}`)};return(s,t)=>(l(),W(we,null,{default:C(()=>[e("div",_e,[e("div",Me,[e("div",Ce,[e("div",je,[t[31]||(t[31]=e("div",null,[e("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-900"},"Data Pelanggan KP-SPAMS"),e("p",{class:"text-sm sm:text-base text-gray-600"},"Daftar lengkap pelanggan air bersih desa")],-1)),e("div",Be,[Q($(L),{href:"/qr-code/bulk-preview",class:"inline-flex items-center px-3 xl:px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition text-sm"},{default:C(()=>[...t[22]||(t[22]=[e("svg",{class:"w-4 h-4 xl:w-5 xl:h-5 xl:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})],-1),e("span",{class:"hidden xl:inline"},"Print QR",-1)])]),_:1}),e("button",{onClick:ee,class:"inline-flex items-center px-3 xl:px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition text-sm"},[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4 xl:w-5 xl:h-5 xl:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("span",{class:"hidden xl:inline"},"Excel",-1)])]),e("button",{onClick:te,class:"inline-flex items-center px-3 xl:px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition text-sm"},[...t[24]||(t[24]=[e("svg",{class:"w-4 h-4 xl:w-5 xl:h-5 xl:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),e("span",{class:"hidden xl:inline"},"PDF",-1)])]),s.$page.props.auth?.user?(l(),W($(L),{key:0,href:"/pelanggan/create",class:"inline-flex items-center px-4 xl:px-6 py-2 bg-blue-800 text-white rounded-lg font-semibold hover:bg-blue-900 transition text-sm"},{default:C(()=>[...t[25]||(t[25]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),e("span",{class:"hidden xl:inline"},"Tambah",-1),e("span",{class:"xl:hidden"},"+",-1)])]),_:1})):u("",!0)]),e("div",ze,[e("button",{onClick:t[0]||(t[0]=a=>M.value=!M.value),class:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 bg-blue-800 text-white rounded-lg font-semibold hover:bg-blue-900 transition"},[...t[26]||(t[26]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1),d(" Menu Aksi ",-1)])]),M.value?(l(),n("div",Se,[e("div",Ve,[Q($(L),{href:"/qr-code/bulk-preview",class:"flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 transition",onClick:t[1]||(t[1]=a=>M.value=!1)},{default:C(()=>[...t[27]||(t[27]=[e("svg",{class:"w-5 h-5 mr-3 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})],-1),d(" Print QR Code ",-1)])]),_:1}),e("button",{onClick:t[2]||(t[2]=a=>{ee(),M.value=!1}),class:"w-full flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 transition"},[...t[28]||(t[28]=[e("svg",{class:"w-5 h-5 mr-3 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),d(" Export Excel ",-1)])]),e("button",{onClick:t[3]||(t[3]=a=>{te(),M.value=!1}),class:"w-full flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 transition"},[...t[29]||(t[29]=[e("svg",{class:"w-5 h-5 mr-3 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),d(" Export PDF ",-1)])]),s.$page.props.auth?.user?(l(),W($(L),{key:0,href:"/pelanggan/create",class:"flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 transition border-t border-gray-100",onClick:t[4]||(t[4]=a=>M.value=!1)},{default:C(()=>[...t[30]||(t[30]=[e("svg",{class:"w-5 h-5 mr-3 text-blue-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),d(" Tambah Pelanggan ",-1)])]),_:1})):u("",!0)])])):u("",!0)])])]),s.$page.props.flash?.success?(l(),n("div",Pe,o(s.$page.props.flash.success),1)):u("",!0),e("div",$e,[e("div",Le,[e("nav",De,[e("button",{onClick:t[5]||(t[5]=a=>V.value="pelanggan"),class:ae(["flex-1 py-4 px-6 text-center font-medium text-sm transition-colors",V.value==="pelanggan"?"border-b-2 border-blue-800 text-blue-800":"text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[...t[32]||(t[32]=[e("div",{class:"flex items-center justify-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),e("span",null,"Data Pelanggan")],-1)])],2),e("button",{onClick:t[6]||(t[6]=a=>V.value="pembayaran"),class:ae(["flex-1 py-4 px-6 text-center font-medium text-sm transition-colors",V.value==="pembayaran"?"border-b-2 border-blue-800 text-blue-800":"text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[...t[33]||(t[33]=[e("div",{class:"flex items-center justify-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})]),e("span",null,"Riwayat Pembayaran")],-1)])],2)])])]),b(e("div",null,[e("div",Te,[e("div",Ae,[e("div",He,[b(e("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=a=>j.value=a),placeholder:"Cari berdasarkan ID, nama, RT, atau RW...",class:"w-full px-4 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},null,512),[[f,j.value]])]),e("div",Re,[b(e("select",{"onUpdate:modelValue":t[8]||(t[8]=a=>B.value=a),class:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},[...t[34]||(t[34]=[e("option",{value:"all"},"Semua Status",-1),e("option",{value:"aktif"},"Aktif",-1),e("option",{value:"nonaktif"},"Nonaktif",-1)])],512),[[A,B.value]]),b(e("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>z.value=a),class:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},[t[35]||(t[35]=e("option",{value:"all"},"Semua Bulan",-1)),(l(!0),n(E,null,J(ne.value,a=>(l(),n("option",{key:a.value,value:a.value},o(a.label),9,Ie))),128))],512),[[A,z.value]]),s.$page.props.auth.user.role!=="penarik"?b((l(),n("select",{key:0,"onUpdate:modelValue":t[10]||(t[10]=a=>S.value=a),class:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},[...t[36]||(t[36]=[e("option",{value:"all"},"Semua Wilayah",-1),e("option",{value:"Dawuhan"},"Dawuhan",-1),e("option",{value:"Kubangsari Kulon"},"Kubangsari Kulon",-1),e("option",{value:"Kubangsari Wetan"},"Kubangsari Wetan",-1),e("option",{value:"Sokarame"},"Sokarame",-1),e("option",{value:"Tiparjaya"},"Tiparjaya",-1)])],512)),[[A,S.value]]):u("",!0)])])]),e("div",Ne,[e("div",Ke,[e("div",Fe,[t[38]||(t[38]=e("div",{class:"p-2.5 rounded-full bg-blue-100 text-blue-600"},[e("svg",{class:"w-6 h-6 sm:w-8 sm:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("div",Ue,[t[37]||(t[37]=e("p",{class:"text-xs sm:text-sm font-medium text-gray-500"},"Total Pelanggan",-1)),e("p",We,o(m.value.length),1)])])]),e("div",Ee,[e("div",Je,[t[40]||(t[40]=e("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600"},[e("svg",{class:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",Oe,[t[39]||(t[39]=e("p",{class:"text-sm font-medium text-gray-500"},"Pelanggan Aktif",-1)),e("p",qe,o(le.value),1)])])]),e("div",Ge,[e("div",Qe,[t[42]||(t[42]=e("div",{class:"p-3 rounded-full bg-purple-100 text-purple-600"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})])],-1)),e("div",Ye,[t[41]||(t[41]=e("p",{class:"text-sm font-medium text-gray-500"},"Hasil Pencarian",-1)),e("p",Xe,o(G.value.length),1)])])])]),e("div",Ze,[e("div",et,[e("table",tt,[e("thead",at,[e("tr",null,[t[43]||(t[43]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"ID Pelanggan",-1)),t[44]||(t[44]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Nama",-1)),t[45]||(t[45]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"No. WhatsApp",-1)),t[46]||(t[46]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"RT / RW",-1)),t[47]||(t[47]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Wilayah",-1)),t[48]||(t[48]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Kategori",-1)),t[49]||(t[49]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Status",-1)),t[50]||(t[50]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Status Bayar",-1)),t[51]||(t[51]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Lokasi",-1)),t[52]||(t[52]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Google Maps",-1)),s.$page.props.auth?.user?(l(),n("th",st,"Aksi")):u("",!0)])]),e("tbody",lt,[G.value.length===0?(l(),n("tr",nt,[e("td",{colspan:s.$page.props.auth?.user?11:10,class:"px-6 py-12 text-center text-gray-500"},[...t[53]||(t[53]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"mt-2"},"Tidak ada data pelanggan yang ditemukan",-1)])],8,rt)])):u("",!0),(l(!0),n(E,null,J(G.value,a=>(l(),n("tr",{key:a.id_pelanggan,class:"hover:bg-gray-50 transition-colors"},[e("td",ot,[e("div",it,o(a.id_pelanggan),1)]),e("td",ut,[e("div",dt,o(a.nama_pelanggan),1)]),e("td",pt,[a.no_whatsapp?(l(),n("a",{key:0,href:`https://wa.me/${a.no_whatsapp.replace(/^0/,"62")}`,target:"_blank",class:"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm"},[t[54]||(t[54]=e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1)),d(" "+o(a.no_whatsapp),1)],8,mt)):(l(),n("span",xt,"-"))]),e("td",gt,[e("div",bt,o(a.rt?`RT ${a.rt}`:"-")+" "+o(a.rt&&a.rw?"/":"")+" "+o(a.rw?`RW ${a.rw}`:""),1)]),e("td",vt,[e("span",ct,[t[55]||(t[55]=e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),d(" "+o(a.wilayah||"Belum diset"),1)])]),e("td",ht,[a.kategori==="sosial"?(l(),n("span",yt,[...t[56]||(t[56]=[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})],-1),d(" Sosial (Gratis) ",-1)])])):(l(),n("span",ft,[...t[57]||(t[57]=[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})],-1),d(" Umum ",-1)])]))]),e("td",kt,[a.status_aktif?(l(),n("span",wt,[...t[58]||(t[58]=[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),d(" Aktif ",-1)])])):(l(),n("span",_t,[...t[59]||(t[59]=[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1),d(" Nonaktif ",-1)])]))]),e("td",Mt,[a.kategori==="sosial"?(l(),n("div",Ct,[t[60]||(t[60]=e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 mb-1"},[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),d(" Gratis ")],-1)),e("span",jt,o(T(a).bulan),1)])):T(a).sudah_bayar?(l(),n("div",Bt,[t[61]||(t[61]=e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 mb-1"},[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),d(" Sudah Bayar ")],-1)),e("span",zt,o(T(a).bulan),1)])):(l(),n("span",St,[...t[62]||(t[62]=[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),d(" Belum Bayar ",-1)])]))]),e("td",Vt,[a.has_coordinates?(l(),W($(L),{key:0,href:`/peta?pelanggan=${a.id_pelanggan}`,class:"inline-flex items-center text-blue-800 hover:text-blue-900 font-medium"},{default:C(()=>[...t[63]||(t[63]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1),d(" Lihat Peta ",-1)])]),_:1},8,["href"])):(l(),n("span",Pt,"Tidak ada koordinat"))]),e("td",$t,[a.google_maps_url?(l(),n("a",{key:0,href:a.google_maps_url,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center text-blue-600 hover:text-blue-900 font-medium"},[...t[64]||(t[64]=[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),e("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})],-1),d(" Buka Maps ",-1)])],8,Lt)):a.has_coordinates?(l(),n("a",{key:1,href:a.google_maps_link,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center text-blue-600 hover:text-blue-900 font-medium"},[...t[65]||(t[65]=[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),e("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})],-1),d(" Buka Maps ",-1)])],8,Dt)):(l(),n("span",Tt,"-"))]),s.$page.props.auth?.user?(l(),n("td",At,[e("div",Ht,[e("a",{href:`/pelanggan/${a.id}/download-qr`,target:"_blank",class:"text-green-600 hover:text-green-800 transition",title:"Download QR Code"},[...t[66]||(t[66]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})],-1)])],8,Rt),e("button",{onClick:i=>oe(a),class:"text-purple-600 hover:text-purple-800 transition",title:"Riwayat Pembayaran"},[...t[67]||(t[67]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})],-1)])],8,It),Q($(L),{href:`/pelanggan/${a.id}/edit`,class:"text-blue-600 hover:text-blue-800 transition",title:"Edit"},{default:C(()=>[...t[68]||(t[68]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{onClick:i=>ve(a),class:"text-red-600 hover:text-red-800 transition",title:"Hapus"},[...t[69]||(t[69]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Nt)])])):u("",!0)]))),128))])])])])],512),[[se,V.value==="pelanggan"]]),O.value?(l(),n("div",{key:1,class:"fixed inset-0 z-50 overflow-y-auto",onClick:ye(Z,["self"])},[e("div",Kt,[t[100]||(t[100]=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),e("div",Ft,[e("div",Ut,[e("h3",Wt,"Riwayat Pembayaran - "+o(g.value?.nama_pelanggan),1),e("button",{onClick:Z,class:"text-white hover:text-gray-200 p-1"},[...t[70]||(t[70]=[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Et,[e("div",Jt,[t[90]||(t[90]=e("h4",{class:"text-base sm:text-lg font-semibold mb-3 sm:mb-4"},"Tambah Pembayaran Baru",-1)),g.value?.kategori!=="sosial"&&!T(g.value).sudah_bayar?(l(),n("div",Ot,[e("div",qt,[t[74]||(t[74]=e("svg",{class:"w-5 h-5 text-yellow-600 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),e("div",null,[t[73]||(t[73]=e("p",{class:"text-sm font-bold text-yellow-800 mb-1"},"Pelanggan Belum Bayar Bulan Ini",-1)),e("p",Gt,[t[71]||(t[71]=d(" Bulan: ",-1)),e("strong",null,o(T(g.value).bulan),1),t[72]||(t[72]=d(". Silakan input pembayaran untuk bulan ini atau bulan lainnya. ",-1))])])])])):u("",!0),g.value?.kategori==="sosial"?(l(),n("div",Qt,[...t[75]||(t[75]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 text-purple-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),e("span",{class:"text-sm font-medium text-purple-800"},"Pelanggan Kategori Sosial - Tidak Dikenakan Biaya (Gratis)")],-1)])])):u("",!0),e("div",Yt,[e("div",Xt,[t[76]||(t[76]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bulan Bayar",-1)),e("div",Zt,[b(e("input",{type:"month","onUpdate:modelValue":t[11]||(t[11]=a=>r.value.bulan_bayar=a),class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 bg-white"},null,512),[[f,r.value.bulan_bayar]])]),x.value.bulan_bayar?(l(),n("p",ea,o(x.value.bulan_bayar),1)):u("",!0)]),e("div",ta,[t[77]||(t[77]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Bayar",-1)),e("div",aa,[b(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=a=>r.value.tanggal_bayar=a),class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 bg-white"},null,512),[[f,r.value.tanggal_bayar]])]),x.value.tanggal_bayar?(l(),n("p",sa,o(x.value.tanggal_bayar),1)):u("",!0)]),!r.value.meteran_sebelum&&!r.value.meteran_sesudah?(l(),n("div",la,[...t[78]||(t[78]=[e("div",{class:"flex items-start gap-3"},[e("svg",{class:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),e("div",{class:"text-sm"},[e("p",{class:"font-semibold text-yellow-800 mb-1"},"Data Meteran Belum Tersedia"),e("p",{class:"text-yellow-700"},[d("Meteran untuk bulan ini belum diinput. Silakan input data meteran air terlebih dahulu menggunakan "),e("strong",null,"QR Scanner"),d(" atau isi manual di form ini.")])])],-1)])])):u("",!0),e("div",na,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-700"},"Meteran Sebelum",-1)),b(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=a=>r.value.meteran_sebelum=a),step:"0.01",placeholder:"0.00",class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 bg-white",onInput:w},null,544),[[f,r.value.meteran_sebelum]]),x.value.meteran_sebelum?(l(),n("p",ra,o(x.value.meteran_sebelum),1)):u("",!0),t[80]||(t[80]=e("p",{class:"text-xs text-gray-500"},"Angka meteran bulan lalu",-1))]),e("div",oa,[t[81]||(t[81]=e("label",{class:"block text-sm font-medium text-gray-700"},"Meteran Sesudah",-1)),b(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=a=>r.value.meteran_sesudah=a),step:"0.01",placeholder:"0.00",class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2 bg-white",onInput:w},null,544),[[f,r.value.meteran_sesudah]]),x.value.meteran_sesudah?(l(),n("p",ia,o(x.value.meteran_sesudah),1)):u("",!0),t[82]||(t[82]=e("p",{class:"text-xs text-gray-500"},"Angka meteran bulan ini",-1))]),e("div",null,[t[83]||(t[83]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pemakaian (m³)",-1)),b(e("input",{type:"number","onUpdate:modelValue":t[15]||(t[15]=a=>r.value.jumlah_kubik=a),step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent bg-gray-50",readonly:""},null,512),[[f,r.value.jumlah_kubik]]),x.value.jumlah_kubik?(l(),n("p",ua,o(x.value.jumlah_kubik),1)):u("",!0),g.value?.kategori==="sosial"?(l(),n("p",da,"Tarif: Gratis (Kategori Sosial)")):(l(),n("p",pa,"Tarif: Rp 2.000 / m³"))]),e("div",null,[e("label",ma,[b(e("input",{type:"checkbox","onUpdate:modelValue":t[16]||(t[16]=a=>r.value.abunemen=a),onChange:w,class:"w-5 h-5 text-blue-800 border-gray-300 rounded focus:ring-2 focus:ring-blue-800"},null,544),[[fe,r.value.abunemen]]),t[84]||(t[84]=e("div",null,[e("span",{class:"text-sm font-medium text-gray-700"},"Abunemen"),e("p",{class:"text-xs text-gray-500"},"Biaya tambahan: Rp 3.000")],-1))])]),e("div",null,[t[85]||(t[85]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tunggakan (Rp)",-1)),b(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=a=>r.value.tunggakan=a),step:"1000",placeholder:"0",onInput:w,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},null,544),[[f,r.value.tunggakan]]),x.value.tunggakan?(l(),n("p",xa,o(x.value.tunggakan),1)):u("",!0),t[86]||(t[86]=e("p",{class:"text-xs text-gray-500 mt-1"},"Nominal tagihan bulan sebelumnya yang belum dibayar (maksimal 3 bulan)",-1))]),e("div",null,[t[87]||(t[87]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Total Tagihan (Rp)",-1)),b(e("input",{type:"number","onUpdate:modelValue":t[18]||(t[18]=a=>r.value.jumlah_bayar=a),step:"1000",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent bg-gray-50",readonly:""},null,512),[[f,r.value.jumlah_bayar]]),x.value.jumlah_bayar?(l(),n("p",ga,o(x.value.jumlah_bayar),1)):u("",!0)]),e("div",null,[t[89]||(t[89]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Keterangan",-1)),b(e("select",{"onUpdate:modelValue":t[19]||(t[19]=a=>r.value.keterangan=a),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},[...t[88]||(t[88]=[e("option",{value:""},"Pilih Keterangan",-1),e("option",{value:"Lunas bulan ini"},"Lunas bulan ini",-1),e("option",{value:"Lunas"},"Lunas",-1),e("option",{value:"Kurang bayar"},"Kurang bayar",-1),e("option",{value:"Terlambat"},"Terlambat",-1),e("option",{value:"Cicilan"},"Cicilan",-1),e("option",{value:"Nunggak"},"Nunggak (Akan masuk bulan depan)",-1)])],512),[[A,r.value.keterangan]])])]),e("button",{onClick:ue,disabled:N.value,class:"mt-3 sm:mt-4 w-full sm:w-auto px-4 py-2 text-sm sm:text-base bg-blue-800 text-white rounded-lg hover:bg-blue-900 active:bg-blue-950 disabled:bg-gray-400 transition touch-manipulation"},o(N.value?"Menyimpan...":"Simpan Pembayaran"),9,ba)]),e("div",null,[t[99]||(t[99]=e("h4",{class:"text-base sm:text-lg font-semibold mb-3 sm:mb-4"},"Daftar Pembayaran",-1)),q.value?(l(),n("div",va,[...t[91]||(t[91]=[e("p",{class:"text-gray-500 text-sm"},"Memuat data...",-1)])])):h.value.length===0?(l(),n("div",ca,[...t[92]||(t[92]=[e("svg",{class:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-2 text-gray-500 text-sm"},"Belum ada riwayat pembayaran",-1)])])):(l(),n("div",ha,[e("table",ya,[t[98]||(t[98]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Bulan"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Tgl Bayar"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-700 uppercase hidden sm:table-cell"},"Meteran Sebelum"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-700 uppercase hidden sm:table-cell"},"Meteran Sesudah"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Pakai"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-center text-xs font-medium text-gray-700 uppercase hidden lg:table-cell"},"Abunemen"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Jumlah"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-left text-xs font-medium text-gray-700 uppercase hidden md:table-cell"},"Ket"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-center text-xs font-medium text-gray-700 uppercase"},"Aksi")])],-1)),e("tbody",fa,[(l(!0),n(E,null,J(h.value,a=>(l(),n("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",ka,o(ge(a.bulan_bayar)),1),e("td",wa,o(be(a.tanggal_bayar)),1),e("td",_a,o(a.meteran_sebelum||"-"),1),e("td",Ma,o(a.meteran_sesudah||"-"),1),e("td",Ca,o(a.jumlah_kubik?a.jumlah_kubik+" m³":"-"),1),e("td",ja,[a.abunemen?(l(),n("span",Ba,[...t[93]||(t[93]=[e("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),d(" Ya ",-1)])])):(l(),n("span",za,"-"))]),e("td",Sa,"Rp "+o(Number(a.jumlah_bayar).toLocaleString("id-ID")),1),e("td",Va,o(a.keterangan||"-"),1),e("td",Pa,[e("div",$a,[e("button",{onClick:i=>pe(a.id),class:"p-1.5 sm:p-2 text-blue-600 hover:text-blue-800 active:text-blue-900 hover:bg-blue-50 active:bg-blue-100 rounded transition touch-manipulation",title:"Kirim Struk via WhatsApp"},[...t[94]||(t[94]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)])],8,La),e("button",{onClick:i=>me(a.id),class:"p-1.5 sm:p-2 text-green-600 hover:text-green-800 active:text-green-900 hover:bg-green-50 active:bg-green-100 rounded transition touch-manipulation",title:"Download PDF"},[...t[95]||(t[95]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],8,Da),e("button",{onClick:i=>xe(a.id),class:"p-1.5 sm:p-2 text-purple-600 hover:text-purple-800 active:text-purple-900 hover:bg-purple-50 active:bg-purple-100 rounded transition touch-manipulation",title:"Cetak Struk"},[...t[96]||(t[96]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1)])],8,Ta),e("button",{onClick:i=>de(a.id),class:"p-1.5 sm:p-2 text-red-600 hover:text-red-800 active:text-red-900 hover:bg-red-50 active:bg-red-100 rounded transition touch-manipulation",title:"Hapus"},[...t[97]||(t[97]=[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Aa)])])]))),128))])])]))])])])])])):u("",!0),b(e("div",null,[e("div",Ha,[e("div",Ra,[e("div",Ia,[t[102]||(t[102]=e("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",Na,[t[101]||(t[101]=e("p",{class:"text-sm font-medium text-gray-500"},"Total Transaksi",-1)),e("p",Ka,o(H.stats.totalPembayaran),1)])])]),e("div",Fa,[e("div",Ua,[t[104]||(t[104]=e("div",{class:"p-3 rounded-full bg-green-100 text-green-600"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Wa,[t[103]||(t[103]=e("p",{class:"text-sm font-medium text-gray-500"},"Total Pemasukan",-1)),e("p",Ea,"Rp "+o(Number(H.stats.totalPemasukan).toLocaleString("id-ID")),1)])])]),e("div",Ja,[e("div",Oa,[t[106]||(t[106]=e("div",{class:"p-3 rounded-full bg-purple-100 text-purple-600"},[e("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",qa,[t[105]||(t[105]=e("p",{class:"text-sm font-medium text-gray-500"},"Rata-rata Bayar",-1)),e("p",Ga,"Rp "+o(Number(H.stats.rataRata).toLocaleString("id-ID")),1)])])])]),e("div",Qa,[e("div",Ya,[e("div",Xa,[t[107]||(t[107]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari Pelanggan",-1)),b(e("input",{type:"text","onUpdate:modelValue":t[20]||(t[20]=a=>R.value=a),placeholder:"Cari berdasarkan ID atau nama pelanggan...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},null,512),[[f,R.value]])]),s.$page.props.auth.user.role!=="penarik"?(l(),n("div",Za,[t[109]||(t[109]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Wilayah",-1)),b(e("select",{"onUpdate:modelValue":t[21]||(t[21]=a=>I.value=a),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},[...t[108]||(t[108]=[e("option",{value:"all"},"Semua Wilayah",-1),e("option",{value:"Dawuhan"},"Dawuhan",-1),e("option",{value:"Kubangsari Kulon"},"Kubangsari Kulon",-1),e("option",{value:"Kubangsari Wetan"},"Kubangsari Wetan",-1),e("option",{value:"Sokarame"},"Sokarame",-1),e("option",{value:"Tiparjaya"},"Tiparjaya",-1)])],512),[[A,I.value]])])):u("",!0)])]),e("div",es,[e("div",ts,[e("table",as,[t[111]||(t[111]=e("thead",{class:"bg-blue-800"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Tanggal"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"ID Pelanggan"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Nama"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Wilayah"),e("th",{class:"px-6 py-3 text-center text-xs font-medium text-white uppercase tracking-wider"},"Pemakaian"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-white uppercase tracking-wider"},"Jumlah Bayar")])],-1)),e("tbody",ss,[Y.value.length===0?(l(),n("tr",ls,[...t[110]||(t[110]=[e("td",{colspan:"6",class:"px-6 py-12 text-center text-gray-500"},[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"mt-2"},"Tidak ada data pembayaran ditemukan")],-1)])])):u("",!0),(l(!0),n(E,null,J(Y.value,a=>(l(),n("tr",{key:a.id,class:"hover:bg-gray-50 transition-colors"},[e("td",ns,[e("div",rs,o(re(a.tanggal_bayar)),1)]),e("td",os,[e("div",is,o(a.id_pelanggan),1)]),e("td",us,[e("div",ds,o(a.nama_pelanggan),1),a.kategori==="sosial"?(l(),n("div",ps,"Kategori Sosial")):u("",!0)]),e("td",ms,[e("span",xs,o(a.wilayah||"N/A"),1)]),e("td",gs,[e("div",bs,o(a.jumlah_kubik?a.jumlah_kubik+" m³":"-"),1),a.abunemen?(l(),n("div",vs,"+ Abunemen")):u("",!0)]),e("td",cs,[e("div",hs,"Rp "+o(Number(a.jumlah_bayar).toLocaleString("id-ID")),1),a.tunggakan>0?(l(),n("div",ys,"Tunggakan: Rp "+o(Number(a.tunggakan).toLocaleString("id-ID")),1)):u("",!0)])]))),128))])])])])],512),[[se,V.value==="pembayaran"]])])])]),_:1}))}};export{Ms as default};
