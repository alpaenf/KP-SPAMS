import{u as h,m as v,c as P,w as V,a as e,e as i,d as m,o as r,b as w,f as p,g as o,v as c,t as a,j as A,F as M,r as B,n as N,y as S,C as U,k as E}from"./app-CEnJCrGY.js";import{_ as I}from"./AppLayout-5px9qMLh.js";/* empty css            */const $={class:"min-h-screen bg-gray-50 py-8"},z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},K={key:0,class:"max-w-md mx-auto mt-20"},q={class:"bg-white rounded-2xl shadow-xl overflow-hidden"},F={class:"p-8"},T={key:0,class:"text-red-500 text-xs mt-1 text-center"},D=["disabled"],H={key:1,class:"space-y-6"},L={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},R={class:"bg-white shadow-sm rounded-xl overflow-hidden border border-gray-200"},O={class:"overflow-x-auto"},Y={class:"min-w-full divide-y divide-gray-200"},G={class:"bg-white divide-y divide-gray-200"},J={class:"px-6 py-4 whitespace-nowrap"},Q={class:"flex items-center"},W={class:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-lg border border-blue-200"},X={class:"ml-4"},Z={class:"text-sm font-medium text-gray-900"},ee={class:"text-sm text-gray-500"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono"},oe={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},le=["onClick"],ae=["onClick"],ne={class:"fixed inset-0 z-[200] overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},re={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ie={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full"},de={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ue={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},me={key:0,class:"text-red-500 text-xs mt-1"},pe={key:0,class:"text-red-500 text-xs mt-1"},ce={class:"grid grid-cols-2 gap-4"},xe={class:"block text-sm font-medium text-gray-700 mb-1"},be=["required"],ge={key:0,class:"text-red-500 text-xs mt-1"},fe={key:0,class:"text-red-500 text-xs mt-1"},ye={key:0,class:"text-xs text-gray-500 italic"},he={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2"},ve=["disabled"],Ce={__name:"Index",props:{isVerified:Boolean,users:Array},setup(g){const u=h({pin:""}),k=()=>{u.post(route("admin.pengelola.verify"),{preserveScroll:!0,onError:()=>{u.reset()}})},b=v(!1),d=v(null),s=h({name:"",email:"",password:"",role:"pengelola",pin:""}),_=n=>n==="admin"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800",f=(n=null)=>{d.value=n,n?(s.name=n.name,s.email=n.email,s.role=n.role,s.pin=n.pin||"",s.password=""):(s.reset(),s.password=""),b.value=!0},x=()=>{b.value=!1,s.reset(),d.value=null},y=()=>{d.value?s.put(route("admin.pengelola.update",d.value.id),{onSuccess:()=>x()}):s.post(route("admin.pengelola.store"),{onSuccess:()=>x()})},C=n=>{confirm(`Yakin ingin menghapus akun ${n.name}?`)&&E.delete(route("admin.pengelola.destroy",n.id))};return(n,t)=>(r(),P(I,null,{default:V(()=>[e("div",$,[e("div",z,[g.isVerified?(r(),i("div",H,[e("div",L,[t[11]||(t[11]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Manajemen Pengelola"),e("p",{class:"text-sm text-gray-600"},"Kelola akun admin dan staf pengelola sistem")],-1)),e("button",{onClick:t[1]||(t[1]=l=>f()),class:"inline-flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium shadow-sm transition gap-2"},[...t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),A(" Tambah Akun ",-1)])])]),e("div",R,[e("div",O,[e("table",Y,[t[12]||(t[12]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Nama & Email"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"Role"),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider"},"PIN Akses"),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),e("tbody",G,[(r(!0),i(M,null,B(g.users,l=>(r(),i("tr",{key:l.id,class:"hover:bg-gray-50"},[e("td",J,[e("div",Q,[e("div",W,a(l.name.charAt(0).toUpperCase()),1),e("div",X,[e("div",Z,a(l.name),1),e("div",ee,a(l.email),1)])])]),e("td",te,[e("span",{class:N([_(l.role),"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full capitalize"])},a(l.role),3)]),e("td",se,a(l.pin||"-"),1),e("td",oe,[e("button",{onClick:j=>f(l),class:"text-blue-600 hover:text-blue-900 mr-3"},"Edit",8,le),l.id!==n.$page.props.auth.user.id?(r(),i("button",{key:0,onClick:j=>C(l),class:"text-red-600 hover:text-red-900"}," Hapus ",8,ae)):p("",!0)])]))),128))])])])])])):(r(),i("div",K,[e("div",q,[t[9]||(t[9]=e("div",{class:"bg-blue-600 px-8 py-6 text-center"},[e("div",{class:"bg-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])]),e("h2",{class:"text-2xl font-bold text-white"},"Keamanan Diperlukan"),e("p",{class:"text-blue-100 text-sm mt-1"},"Masukkan PIN Keamanan untuk mengakses halaman ini")],-1)),e("div",F,[e("form",{onSubmit:w(k,["prevent"]),class:"space-y-6"},[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"PIN Keamanan",-1)),m(e("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=l=>o(u).pin=l),maxlength:"8",class:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-center tracking-[1em] text-xl font-bold",placeholder:"••••••",autofocus:""},null,512),[[c,o(u).pin]]),o(u).errors.pin?(r(),i("p",T,a(o(u).errors.pin),1)):p("",!0)]),e("button",{type:"submit",class:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow transition transform active:scale-95 disabled:opacity-50",disabled:o(u).processing},a(o(u).processing?"Memverifikasi...":"Buka Akses"),9,D)],32),t[8]||(t[8]=e("p",{class:"text-center text-xs text-gray-400 mt-6"}," * PIN default adalah 123456 jika belum diatur ",-1))])])])),m(e("div",ne,[e("div",re,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:x,"aria-hidden":"true"}),t[18]||(t[18]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",ie,[e("div",de,[e("h3",ue,a(d.value?"Edit Akun Pengelola":"Tambah Akun Pengelola"),1),e("form",{onSubmit:w(y,["prevent"]),class:"space-y-4"},[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Lengkap",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>o(s).name=l),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,o(s).name]]),o(s).errors.name?(r(),i("p",me,a(o(s).errors.name),1)):p("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),m(e("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=l=>o(s).email=l),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,o(s).email]]),o(s).errors.email?(r(),i("p",pe,a(o(s).errors.email),1)):p("",!0)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role",-1)),m(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).role=l),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...t[15]||(t[15]=[e("option",{value:"pengelola"},"Pengelola Staf",-1),e("option",{value:"admin"},"Administrator",-1)])],512),[[S,o(s).role]])]),e("div",ce,[e("div",null,[e("label",xe," Password "+a(d.value?"(Opsional)":""),1),m(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>o(s).password=l),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!d.value,minlength:"8"},null,8,be),[[c,o(s).password]]),o(s).errors.password?(r(),i("p",ge,a(o(s).errors.password),1)):p("",!0)]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"PIN Akses (4-8 digit)",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>o(s).pin=l),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",maxlength:"8",placeholder:"123456"},null,512),[[c,o(s).pin]]),o(s).errors.pin?(r(),i("p",fe,a(o(s).errors.pin),1)):p("",!0)])]),d.value?(r(),i("p",ye,"* Kosongkan password jika tidak ingin mengubahnya.")):p("",!0)],32)]),e("div",he,[e("button",{onClick:y,type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm",disabled:o(s).processing},a(d.value?"Simpan Perubahan":"Buat Akun"),9,ve),e("button",{onClick:x,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Batal ")])])])],512),[[U,b.value]])])])]),_:1}))}};export{Ce as default};
