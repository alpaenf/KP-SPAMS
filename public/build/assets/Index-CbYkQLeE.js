import{m as c,p as _,c as B,w as D,a as t,e as i,f as r,d as j,v as M,t as s,o,F as C,r as T,b as P,k as R}from"./app-DsHOjeBg.js";import{_ as L}from"./AppLayout-DIWWdkKz.js";/* empty css            */const I={class:"py-12"},N={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},V={class:"mb-8"},S={class:"flex justify-between items-center"},z={class:"flex gap-3"},H={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},A={class:"bg-white rounded-lg shadow-md p-6"},F={class:"flex items-center"},J={class:"ml-4"},W={class:"text-2xl font-bold text-gray-900"},$={class:"bg-white rounded-lg shadow-md p-6"},K={class:"flex items-center"},E={class:"ml-4"},O={class:"text-2xl font-bold text-green-600"},U={class:"bg-white rounded-lg shadow-md p-6"},q={class:"flex items-center"},G={class:"ml-4"},Q={class:"text-2xl font-bold text-purple-600"},X={class:"bg-white rounded-lg shadow-md overflow-hidden"},Y={class:"overflow-x-auto"},Z={class:"min-w-full divide-y divide-gray-200"},tt={class:"bg-white divide-y divide-gray-200"},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},st={class:"px-6 py-4 whitespace-nowrap"},at={class:"text-sm font-medium text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap"},lt={class:"text-sm font-medium text-gray-900"},ot={class:"text-sm text-gray-500"},it={class:"px-6 py-4 whitespace-nowrap"},rt={class:"text-sm text-gray-900"},dt={class:"px-6 py-4 whitespace-nowrap"},ut={class:"text-sm text-gray-900"},mt={class:"px-6 py-4 whitespace-nowrap"},pt={class:"text-sm font-bold text-green-600"},xt={key:0,class:"text-xs text-gray-500"},ct={class:"px-6 py-4"},gt={class:"text-sm text-gray-900"},vt={class:"px-6 py-4 whitespace-nowrap text-sm"},ht=["onClick"],yt={key:0},_t={class:"flex items-center justify-center min-h-screen px-4"},bt={class:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6"},ft={class:"space-y-3"},wt={class:"grid grid-cols-2 gap-4"},kt={class:"text-base font-medium"},Bt={class:"text-base font-medium"},Dt={class:"text-base font-medium"},jt={class:"text-base font-medium"},Mt={class:"text-base font-medium"},Ct={class:"text-base font-medium"},Tt={key:0},Pt={class:"text-base font-medium"},Rt={key:1},Lt={class:"text-base font-medium"},It={key:2},Nt={class:"text-base font-medium"},Vt={class:"col-span-2"},St={class:"text-2xl font-bold text-green-600"},zt={key:3,class:"col-span-2"},Ht={class:"text-base font-medium"},$t={__name:"Index",props:{pembayaranList:Array,bulan:String},setup(d){const u=d,p=c(u.bulan),x=c(!1),a=c(null),g=_(()=>u.pembayaranList.reduce((l,e)=>l+e.jumlah_bayar,0)),b=_(()=>u.pembayaranList.length===0?0:g.value/u.pembayaranList.length),m=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),v=l=>new Date(l).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}),f=l=>{const[e,n]=l.split("-");return`${["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][parseInt(n)-1]} ${e}`},w=()=>{R.visit("/pembayaran-admin",{method:"get",data:{bulan:p.value},preserveState:!1})},k=l=>{a.value=l,x.value=!0},h=()=>{x.value=!1,a.value=null};return(l,e)=>(o(),B(L,null,{default:D(()=>[t("div",I,[t("div",N,[t("div",V,[t("div",S,[e[1]||(e[1]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Daftar Pembayaran"),t("p",{class:"text-gray-600 mt-1"},"Kelola dan lihat riwayat pembayaran pelanggan")],-1)),t("div",z,[j(t("input",{type:"month","onUpdate:modelValue":e[0]||(e[0]=n=>p.value=n),onChange:w,class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-800 focus:border-transparent"},null,544),[[M,p.value]])])])]),t("div",H,[t("div",A,[t("div",F,[e[3]||(e[3]=t("div",{class:"p-3 rounded-full bg-blue-100 text-blue-600"},[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),t("div",J,[e[2]||(e[2]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Pembayaran",-1)),t("p",W,s(d.pembayaranList.length),1)])])]),t("div",$,[t("div",K,[e[5]||(e[5]=t("div",{class:"p-3 rounded-full bg-green-100 text-green-600"},[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",E,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-gray-500"},"Total Pemasukan",-1)),t("p",O,s(m(g.value)),1)])])]),t("div",U,[t("div",q,[e[7]||(e[7]=t("div",{class:"p-3 rounded-full bg-purple-100 text-purple-600"},[t("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",G,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-500"},"Rata-rata",-1)),t("p",Q,s(m(b.value)),1)])])])]),t("div",X,[t("div",Y,[t("table",Z,[e[9]||(e[9]=t("thead",{class:"bg-blue-800"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"No"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"ID Pelanggan"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Nama"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Wilayah"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Tanggal Bayar"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Jumlah"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Keterangan"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider"},"Aksi")])],-1)),t("tbody",tt,[(o(!0),i(C,null,T(d.pembayaranList,(n,y)=>(o(),i("tr",{key:n.id,class:"hover:bg-gray-50 transition"},[t("td",et,s(y+1),1),t("td",st,[t("div",at,s(n.pelanggan.id_pelanggan),1)]),t("td",nt,[t("div",lt,s(n.pelanggan.nama_pelanggan),1),t("div",ot,"RT "+s(n.pelanggan.rt)+" / RW "+s(n.pelanggan.rw),1)]),t("td",it,[t("div",rt,s(n.pelanggan.wilayah||"-"),1)]),t("td",dt,[t("div",ut,s(v(n.tanggal_bayar)),1)]),t("td",mt,[t("div",pt,s(m(n.jumlah_bayar)),1),n.jumlah_kubik?(o(),i("div",xt,s(n.jumlah_kubik)+" m続",1)):r("",!0)]),t("td",ct,[t("div",gt,s(n.keterangan||"-"),1)]),t("td",vt,[t("button",{onClick:At=>k(n),class:"text-blue-600 hover:text-blue-900 font-medium"}," Detail ",8,ht)])]))),128)),d.pembayaranList.length===0?(o(),i("tr",yt,[...e[8]||(e[8]=[t("td",{colspan:"8",class:"px-6 py-12 text-center text-gray-500"},[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})]),t("p",{class:"mt-2"},"Belum ada pembayaran untuk bulan ini")],-1)])])):r("",!0)])])])])])]),x.value?(o(),i("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:P(h,["self"])},[t("div",_t,[e[22]||(e[22]=t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),t("div",bt,[e[21]||(e[21]=t("h3",{class:"text-xl font-bold text-gray-900 mb-4"},"Detail Pembayaran",-1)),t("div",ft,[t("div",wt,[t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm text-gray-500"},"ID Pelanggan",-1)),t("p",kt,s(a.value?.pelanggan.id_pelanggan),1)]),t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm text-gray-500"},"Nama",-1)),t("p",Bt,s(a.value?.pelanggan.nama_pelanggan),1)]),t("div",null,[e[12]||(e[12]=t("p",{class:"text-sm text-gray-500"},"Wilayah",-1)),t("p",Dt,s(a.value?.pelanggan.wilayah||"-"),1)]),t("div",null,[e[13]||(e[13]=t("p",{class:"text-sm text-gray-500"},"RT/RW",-1)),t("p",jt,"RT "+s(a.value?.pelanggan.rt)+" / RW "+s(a.value?.pelanggan.rw),1)]),t("div",null,[e[14]||(e[14]=t("p",{class:"text-sm text-gray-500"},"Tanggal Bayar",-1)),t("p",Mt,s(v(a.value?.tanggal_bayar)),1)]),t("div",null,[e[15]||(e[15]=t("p",{class:"text-sm text-gray-500"},"Bulan Tagihan",-1)),t("p",Ct,s(f(a.value?.bulan_bayar)),1)]),a.value?.meteran_sebelum!==null?(o(),i("div",Tt,[e[16]||(e[16]=t("p",{class:"text-sm text-gray-500"},"Meteran Sebelum",-1)),t("p",Pt,s(a.value?.meteran_sebelum)+" m続",1)])):r("",!0),a.value?.meteran_sesudah!==null?(o(),i("div",Rt,[e[17]||(e[17]=t("p",{class:"text-sm text-gray-500"},"Meteran Sesudah",-1)),t("p",Lt,s(a.value?.meteran_sesudah)+" m続",1)])):r("",!0),a.value?.jumlah_kubik?(o(),i("div",It,[e[18]||(e[18]=t("p",{class:"text-sm text-gray-500"},"Pemakaian",-1)),t("p",Nt,s(a.value?.jumlah_kubik)+" m続",1)])):r("",!0),t("div",Vt,[e[19]||(e[19]=t("p",{class:"text-sm text-gray-500"},"Jumlah Bayar",-1)),t("p",St,s(m(a.value?.jumlah_bayar)),1)]),a.value?.keterangan?(o(),i("div",zt,[e[20]||(e[20]=t("p",{class:"text-sm text-gray-500"},"Keterangan",-1)),t("p",Ht,s(a.value?.keterangan),1)])):r("",!0)])]),t("div",{class:"mt-6 flex justify-end"},[t("button",{onClick:h,class:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition"}," Tutup ")])])])])):r("",!0)]),_:1}))}};export{$t as default};
